<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3c.org/TR/1999/REC-html401-19991224/loose.dtd">
<!-- saved from url=(0235)http://webcache.googleusercontent.com/search -->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><HTML><HEAD>
<META content="text/html; charset=UTF-8" http-equiv="Content-Type">
<META name="GENERATOR" content="MSHTML 9.00.8112.16476"></HEAD>
<BODY class="mediawiki ns-0 ltr page-DeveloperDocumentation_Scraper">
<DIV style="background: rgb(255, 255, 255); margin: -1px -1px 0px; padding: 0px; border: 1px solid rgb(153, 153, 153);">
<DIV style="background: rgb(221, 221, 221); font: 13px/normal arial, sans-serif; margin: 12px; padding: 8px; border: 1px solid rgb(153, 153, 153); text-align: left; color: rgb(0, 0, 0); font-size-adjust: none; font-stretch: normal;">This 
is Google's cache of <A style="color: rgb(0, 0, 204); text-decoration: underline;" 
href="http://www.maxinmontreal.com/wiki/index.php5/DeveloperDocumentation:Scraper">http://www.maxinmontreal.com/wiki/index.php5/DeveloperDocumentation:Scraper</A>. 
It is a snapshot of the page as it appeared on Mar 9, 2013 06:12:09 GMT. The <A 
style="color: rgb(0, 0, 204); text-decoration: underline;" href="http://www.maxinmontreal.com/wiki/index.php5/DeveloperDocumentation:Scraper">current 
page</A> could have changed in the meantime. <A style="color: rgb(0, 0, 204); text-decoration: underline;" 
href="http://support.google.com/websearch/bin/answer.py?hl=en&amp;p=cached&amp;answer=1687222">Learn 
more</A><BR>Tip: To quickly find your search term on this page, press 
<B>Ctrl+F</B> or <B>⌘-F</B> (Mac) and use the find bar.<BR><BR>
<DIV style="float: right;"><A style="color: rgb(0, 0, 204); text-decoration: underline;" 
href="http://webcache.googleusercontent.com/search?q=cache:fnfkgoZ7NXIJ:www.maxinmontreal.com/wiki/index.php5/DeveloperDocumentation:Scraper+http://www.maxinmontreal.com/wiki/index.php5/DeveloperDocumentation:Scraper&amp;hl=en&amp;gl=us&amp;strip=1">Text-only 
version</A></DIV>
<DIV>&nbsp;</DIV></DIV></DIV>
<DIV style="position: relative;">
<META name="keywords" content="DeveloperDocumentation:Scraper,DeveloperDocumentation,OpenHoldem"><LINK 
rel="shortcut icon" href="/favicon.ico"><LINK title="Maxin Wiki (English)" rel="search" 
type="application/opensearchdescription+xml" 
href="/wiki/opensearch_desc.php"><TITLE>DeveloperDocumentation:Scraper - Maxin 
Wiki</TITLE>
<STYLE type="text/css" media="screen, projection">/*<![CDATA[*/
			@import "/wiki/skins/common/shared.css?97";
			@import "/wiki/skins/monobook/main.css?97";
		/*]]>*/</STYLE>
<LINK rel="stylesheet" type="text/css" href="Developerdocumentation_scraper_files/commonPrint.css" 
media="print"><!--[if lt IE 5.5000]><style type="text/css">@import "/wiki/skins/monobook/IE50Fixes.css?97";</style><![endif]--><!--[if IE 5.5000]><style type="text/css">@import "/wiki/skins/monobook/IE55Fixes.css?97";</style><![endif]--><!--[if IE 6]><style type="text/css">@import "/wiki/skins/monobook/IE60Fixes.css?97";</style><![endif]--><!--[if IE 7]><style type="text/css">@import "/wiki/skins/monobook/IE70Fixes.css?97";</style><![endif]--><!--[if lt IE 7]><script type="text/javascript" src="/wiki/skins/common/IEFixes.js?97"></script>
		<meta http-equiv="imagetoolbar" content="no" /><![endif]-->
<SCRIPT type="text/javascript">/*<![CDATA[*/
var skin = "monobook";
var stylepath = "/wiki/skins";
var wgArticlePath = "/wiki/index.php5/$1";
var wgScriptPath = "/wiki";
var wgScript = "/wiki/index.php5";
var wgServer = "http://www.maxinmontreal.com";
var wgCanonicalNamespace = "";
var wgCanonicalSpecialPageName = false;
var wgNamespaceNumber = 0;
var wgPageName = "DeveloperDocumentation:Scraper";
var wgTitle = "DeveloperDocumentation:Scraper";
var wgAction = "view";
var wgRestrictionEdit = [];
var wgRestrictionMove = [];
var wgArticleId = "239";
var wgIsArticle = true;
var wgUserName = null;
var wgUserGroups = null;
var wgUserLanguage = "en";
var wgContentLanguage = "en";
var wgBreakFrames = false;
var wgCurRevisionId = "616";
/*]]>*/</SCRIPT>

<SCRIPT type="text/javascript" src="Developerdocumentation_scraper_files/wikibits.js"><!-- wikibits js --></SCRIPT>

<SCRIPT type="text/javascript" src=""><!-- site js --></SCRIPT>

<STYLE type="text/css">/*<![CDATA[*/
@import "/wiki/index.php5?title=MediaWiki:Common.css&usemsgcache=yes&action=raw&ctype=text/css&smaxage=18000";
@import "/wiki/index.php5?title=MediaWiki:Monobook.css&usemsgcache=yes&action=raw&ctype=text/css&smaxage=18000";
@import "/wiki/index.php5?title=-&action=raw&gen=css&maxage=18000";
/*]]>*/</STYLE>
<!-- Head Scripts -->
<SCRIPT type="text/javascript" src="Developerdocumentation_scraper_files/ajax.js"></SCRIPT>

<DIV id="globalWrapper">
<DIV id="column-content">
<DIV id="content"><A id="top" name="top"></A>
<H1 class="firstHeading">DeveloperDocumentation:Scraper</H1>
<DIV id="bodyContent">
<H3 id="siteSub">From Maxin Wiki</H3>
<DIV id="contentSub"></DIV>
<DIV id="jump-to-nav">Jump to: <A href="http://www.maxinmontreal.com/wiki/index.php5/DeveloperDocumentation:Scraper#column-one">navigation</A>, 
<A href="http://www.maxinmontreal.com/wiki/index.php5/DeveloperDocumentation:Scraper#searchInput">search</A></DIV><!-- start content --><A 
name="The_OpenHoldem_scraper_engine"></A>
<H2><SPAN class="editsection">[<A title="Edit section: The OpenHoldem scraper engine" 
href="http://www.maxinmontreal.com/wiki/index.php5?title=DeveloperDocumentation:Scraper&amp;action=edit&amp;section=1">edit</A>]</SPAN> 
<SPAN class="mw-headline"> The OpenHoldem scraper engine </SPAN></H2>
<P>The scraper engine is called by the heartbeat thread once per cycle.  It is a 
very linear function, and proceeds as follows:</P><PRE> A. Take a snapshot of the poker client window.  If it is the same as the previous snapshot,
    the do nothing, stop now and return, otherwise:
 B. Scrape common cards
 C. For each seat:
    - Scrape player cards
    - Scrape seated status
    - Scrape active status
    - Scrape dealer button
    - Scrape name
    - Scrape balance
    - Scrape current bet
 D. Scrape buttons
 E. Scrape pots
 F. Scrape limits
</PRE>
<P>For each "scrape" type, the results are stored in the CScraper class (defined 
in scraper.h)</P><A name="Scrape_subroutines"></A>
<H2><SPAN class="editsection">[<A title="Edit section: Scrape subroutines" href="http://www.maxinmontreal.com/wiki/index.php5?title=DeveloperDocumentation:Scraper&amp;action=edit&amp;section=2">edit</A>]</SPAN> 
<SPAN class="mw-headline"> Scrape subroutines </SPAN></H2>
<P>Here are details on the specific scrape subroutines</P><A name="CScraper::scrape_common_cards"></A>
<H3><SPAN class="editsection">[<A title="Edit section: CScraper::scrape_common_cards" 
href="http://www.maxinmontreal.com/wiki/index.php5?title=DeveloperDocumentation:Scraper&amp;action=edit&amp;section=3">edit</A>]</SPAN> 
<SPAN class="mw-headline"> CScraper::scrape_common_cards </SPAN></H3><PRE> for i=0 to 4
    call process_region, call do_transform
    if do_transform returns a match, then set common card [i] to the return value, otherwise
       set common card [i] to CARD_NOCARD
 end for
  
</PRE>
<A name="CScraper::scrape_player_cards"></A>
<H3><SPAN class="editsection">[<A title="Edit section: CScraper::scrape_player_cards" 
href="http://www.maxinmontreal.com/wiki/index.php5?title=DeveloperDocumentation:Scraper&amp;action=edit&amp;section=4">edit</A>]</SPAN> 
<SPAN class="mw-headline"> CScraper::scrape_player_cards </SPAN></H3><PRE> for i=0 to 1
    [try r$u region first, if it is defined]
       call process_region, call do_transform
       if do_transform returns a match, then set player card [i] to the return value
    [no luck with r$u? Then try r$p region next, if it is defined]
       call process_region, call do_transform
       if do_transform returns a match, then set player card [i] to the return value
    [no luck with r$u? Then try cardback region next, if it is defined]
       call process_region, call do_transform
       if do_transform returns a match, then set player card [i] to CARD_BACK
 end for
  
</PRE>
<A name="CScraper::scrape_seated"></A>
<H3><SPAN class="editsection">[<A title="Edit section: CScraper::scrape_seated" 
href="http://www.maxinmontreal.com/wiki/index.php5?title=DeveloperDocumentation:Scraper&amp;action=edit&amp;section=5">edit</A>]</SPAN> 
<SPAN class="mw-headline"> CScraper::scrape_seated </SPAN></H3><PRE> Start by assuming the seat is NOT seated
 [try r$u region first, if it is defined]
    call process_region, call do_transform
    if do_transform returns a match, then set player seated to true
 [no luck with r$u? Then try r$p region next, if it is defined]
    call process_region, call do_transform
    if do_transform returns a match, then set player seated to true
</PRE>
<A name="CScraper::scrape_active"></A>
<H3><SPAN class="editsection">[<A title="Edit section: CScraper::scrape_active" 
href="http://www.maxinmontreal.com/wiki/index.php5?title=DeveloperDocumentation:Scraper&amp;action=edit&amp;section=6">edit</A>]</SPAN> 
<SPAN class="mw-headline"> CScraper::scrape_active </SPAN></H3><PRE> Start by assuming the seat is NOT active
 [try r$u region first, if it is defined]
    call process_region, call do_transform
    if do_transform returns a match, then set player active to true
 [no luck with r$u? Then try r$p region next, if it is defined]
    call process_region, call do_transform
    if do_transform returns a match, then set player active to true
  
</PRE>
<A name="CScraper::scrape_dealer"></A>
<H3><SPAN class="editsection">[<A title="Edit section: CScraper::scrape_dealer" 
href="http://www.maxinmontreal.com/wiki/index.php5?title=DeveloperDocumentation:Scraper&amp;action=edit&amp;section=7">edit</A>]</SPAN> 
<SPAN class="mw-headline"> CScraper::scrape_dealer </SPAN></H3><PRE> call process_region, call do_transform
 if do_transform returns a match, then set player dealer to true, otherwise set to false
  
</PRE>
<A name="CScraper::scrape_name"></A>
<H3><SPAN class="editsection">[<A title="Edit section: CScraper::scrape_name" 
href="http://www.maxinmontreal.com/wiki/index.php5?title=DeveloperDocumentation:Scraper&amp;action=edit&amp;section=8">edit</A>]</SPAN> 
<SPAN class="mw-headline"> CScraper::scrape_name </SPAN></H3><PRE> set got_new_scrape to false
 [try r$uname region first, if it is defined]
    call process_region, call do_transform
    if do_transform returns a match, then set got_new_scrape to true
 [no luck with r$uname? Then try r$uXname region next, if it is defined]
    call process_region, call do_transform
    if do_transform returns a match, then set got_new_scrape to true
 [no luck with r$uXname? Then try r$pXname region next, if it is defined]
    call process_region, call do_transform
    if do_transform returns a match, then set got_new_scrape to true
</PRE><PRE> if got_new_scrape is true, then
   if we don't yet have a name for this seat, then set it to the scraped value
   else keep count of the number of times we have scraped this name for this seat, if it
      equals or exceeds the number set in preferences, then set the seat name to the scraped name
  
</PRE>
<A name="CScraper::scrape_balance"></A>
<H3><SPAN class="editsection">[<A title="Edit section: CScraper::scrape_balance" 
href="http://www.maxinmontreal.com/wiki/index.php5?title=DeveloperDocumentation:Scraper&amp;action=edit&amp;section=9">edit</A>]</SPAN> 
<SPAN class="mw-headline"> CScraper::scrape_balance </SPAN></H3><PRE> set got_new_scrape to false
 [try r$ubalance region first, if it is defined]
    call process_region, call do_transform
    if do_transform returns a match, then set got_new_scrape to true
 [no luck with r$ubalance? Then try r$uXbalance region next, if it is defined]
    call process_region, call do_transform
    if do_transform returns a match, then set got_new_scrape to true
 [no luck with r$uXbalance? Then try r$pXbalance region next, if it is defined]
    call process_region, call do_transform
    if do_transform returns a match, then set got_new_scrape to true
</PRE><PRE> if got_new_scrape is true, then
   if this seat's balance is 0, then set it to the scraped value
   else keep count of the number of times we have scraped the balance for this seat, if it
      equals or exceeds the number set in preferences, then set the seat balance to the scraped
      balance
  
</PRE>
<A name="CScraper::scrape_bet"></A>
<H3><SPAN class="editsection">[<A title="Edit section: CScraper::scrape_bet" 
href="http://www.maxinmontreal.com/wiki/index.php5?title=DeveloperDocumentation:Scraper&amp;action=edit&amp;section=10">edit</A>]</SPAN> 
<SPAN class="mw-headline"> CScraper::scrape_bet </SPAN></H3><PRE> set bet for this chair to zero
 [try r$pXbet region first, if it is defined]
    call process_region, call do_transform
    if do_transform returns a match, then set bet for this chair to the scraped amount
 [no luck with r$pXbet? Then try r$pXchip region next, if it is defined]
    call process_region, call do_chip_scrape
  
</PRE>
<A name="CScraper::scrape_buttons"></A>
<H3><SPAN class="editsection">[<A title="Edit section: CScraper::scrape_buttons" 
href="http://www.maxinmontreal.com/wiki/index.php5?title=DeveloperDocumentation:Scraper&amp;action=edit&amp;section=11">edit</A>]</SPAN> 
<SPAN class="mw-headline"> CScraper::scrape_buttons </SPAN></H3><PRE> set buttonlabel0-3 to fold, call, raise, allin, respectively
 for i=0 to 9
    [process r$iXstate region, if it is defined]
       call process_region, call do_transform
       if do_transform returns a match, set state of button [i] to the return value from do_transform
    [process r$i86Xstate region, if it is defined]
       call process_region, call do_transform
       if do_transform returns a match, set state of i86 button [i] to the return value from do_transform
    [process r$iXlabel region, if it is defined]
       call process_region, call do_transform
       if do_transform returns a match, set label of button [i] to the return value from do_transform
 end for
</PRE><PRE> [process r$i86state region, if it is defined]
    call process_region, call do_transform
    if do_transform returns a match, set i86buttonstate to the return value from do_transform
  
</PRE>
<A name="CScraper::scrape_pots"></A>
<H3><SPAN class="editsection">[<A title="Edit section: CScraper::scrape_pots" 
href="http://www.maxinmontreal.com/wiki/index.php5?title=DeveloperDocumentation:Scraper&amp;action=edit&amp;section=12">edit</A>]</SPAN> 
<SPAN class="mw-headline"> CScraper::scrape_pots </SPAN></H3><PRE> for i=0 to 4
    set pot [i] to 0
    [process r$c0potX region, if it is defined]
       call process_region, call do_transform
       if do_transform returns a match, then set pot [i] to the scraped amount
    [no luck with r$c0potX? Then try r$c0potXchipYZ region next, if it is defined]
       call process_region, call do_chip_scrape for pot [i]
 end for
</PRE>
<A name="CScraper::scrape_limits"></A>
<H3><SPAN class="editsection">[<A title="Edit section: CScraper::scrape_limits" 
href="http://www.maxinmontreal.com/wiki/index.php5?title=DeveloperDocumentation:Scraper&amp;action=edit&amp;section=13">edit</A>]</SPAN> 
<SPAN class="mw-headline"> CScraper::scrape_limits </SPAN></H3><PRE> [process r$c0istournament region, if it is defined]
    call process_region, call do_transform
    if do_transform returns a match, then set istournament to true, otherwise set to false
</PRE><PRE> [process r$c0handnumber region, if it is defined]
    call process_region, call do_transform
    if do_transform returns a match, then set handnumber to the scraped value, otherwise zero
 for i=0 to 9
    [process r$c0handnumberX region, if it is defined]
       call process_region, call do_transform
       if do_transform returns a match, then set handnumber to the scraped value, otherwise zero
 end for
  
 if blinds are not locked, then
    [process s$ttlimits, if it is defined]
       get title bar text, and call parse_string_bsl with the pattern defined in s$ttlimits
    for i=0 to 9
       [process s$ttlimitsX, if it is defined]
         get title bar text, and call parse_string_bsl with the pattern defined in s$ttlimitsX
    end for   
    [process r$c0limits, s$c0limits, if they are both defined]
       call process_region, call do_transform  (for r$c0limits)
       if do_transform returns a match, then get title bar text, and call parse_string_bsl with
          the pattern defined in s$c0limits
    for i=0 to 9
       [process r$c0limitsX, s$c0limitsX, if they are both defined]
          call process_region, call do_transform  (for r$c0limitsX)
          if do_transform returns a match, then get title bar text, and call parse_string_bsl with
             the pattern defined in s$c0limitsX
    end for
    [process r$c0sblind region, if it is defined]
       call process_region, call do_transform
       if do_transform returns a match, then set sblind to the scraped value
    [process r$c0bblind region, if it is defined]
       call process_region, call do_transform
       if do_transform returns a match, then set bblind to the scraped value
    [process r$c0bigbet region, if it is defined]
       call process_region, call do_transform
       if do_transform returns a match, then set bbet to the scraped value
    [process r$c0ante region, if it is defined]
       call process_region, call do_transform
       if do_transform returns a match, then set ante to the scraped value
</PRE><PRE> end if (blinds are not locked)   
  
 Set sblind and bblind with some complex logic based on game type and results from all the above
 scraping in the "scrape_limits" function (see code for this).
</PRE>
<A name="Common_subroutines"></A>
<H2><SPAN class="editsection">[<A title="Edit section: Common subroutines" href="http://www.maxinmontreal.com/wiki/index.php5?title=DeveloperDocumentation:Scraper&amp;action=edit&amp;section=14">edit</A>]</SPAN> 
<SPAN class="mw-headline"> Common subroutines </SPAN></H2><A name="CScraper::process_region"></A>
<H3><SPAN class="editsection">[<A title="Edit section: CScraper::process_region" 
href="http://www.maxinmontreal.com/wiki/index.php5?title=DeveloperDocumentation:Scraper&amp;action=edit&amp;section=15">edit</A>]</SPAN> 
<SPAN class="mw-headline"> CScraper::process_region </SPAN></H3>
<P>Moves the portion of the poker window (as specified for the region in the 
profile) into a bitmap for use by the transform engine.  It also returns a 
true/false if this portion of the window has changed, so we can decide if we 
want to transform it or not.</P><A name="CScraper::parse_string_bsl"></A>
<H3><SPAN class="editsection">[<A title="Edit section: CScraper::parse_string_bsl" 
href="http://www.maxinmontreal.com/wiki/index.php5?title=DeveloperDocumentation:Scraper&amp;action=edit&amp;section=16">edit</A>]</SPAN> 
<SPAN class="mw-headline"> CScraper::parse_string_bsl </SPAN></H3>
<P>This funtion takes as parameters the text to be parsed, and a parse format 
string.  It populates the handnumber, sblind, bblind, bbet, sb_bb, bb_BB, and 
ante variables if those tokens are found as matches in the input text, based on 
the layout in the format string.  It will set the handnumber and sblind variable 
immediately if they are found, but will only set bblind, bbet, sb_bb, bb_BB, and
 ante if both of the following are true:</P><PRE> - The value is currently zero for this variable
 - The "found" flag for this variable is set to false

</PRE>
<P>The found flag is set to false when a new hand is encountered, but as you can 
see, we do not routinely reset these variables.  This information is too 
important to accidentally lose on a misscrape, so it is carried forward and only 
overwritten as required.</P><A name="CScraper::do_transform"></A>
<H3><SPAN class="editsection">[<A title="Edit section: CScraper::do_transform" 
href="http://www.maxinmontreal.com/wiki/index.php5?title=DeveloperDocumentation:Scraper&amp;action=edit&amp;section=17">edit</A>]</SPAN> 
<SPAN class="mw-headline"> CScraper::do_transform </SPAN></H3>
<P>This function is a simple switch/case that calls the actual appropriate 
transformation code based on the transformation code for the region in the 
profile. case C, call c_transform case I, call i_transform case H, call 
h_transform case T, call t_transform case N, return (do nothing)</P><A name="CScraper::do_chip_scrape"></A>
<H3><SPAN class="editsection">[<A title="Edit section: CScraper::do_chip_scrape" 
href="http://www.maxinmontreal.com/wiki/index.php5?title=DeveloperDocumentation:Scraper&amp;action=edit&amp;section=18">edit</A>]</SPAN> 
<SPAN class="mw-headline"> CScraper::do_chip_scrape </SPAN></H3>
<P>This is a long function that steps through each chip stack, then through each 
chip in that stack, and attempts to find a hash match for the value of that 
chip.  All those hash matches are summed up, and the total value of the stacks 
is returned.  The code is a bunch of loops, and should be fairly self-
 explanatory.</P><A name="Transformation_routines"></A>
<H2><SPAN class="editsection">[<A title="Edit section: Transformation routines" 
href="http://www.maxinmontreal.com/wiki/index.php5?title=DeveloperDocumentation:Scraper&amp;action=edit&amp;section=19">edit</A>]</SPAN> 
<SPAN class="mw-headline"> Transformation routines </SPAN></H2><A name="c_transform"></A>
<H3><SPAN class="editsection">[<A title="Edit section: c_transform" href="http://www.maxinmontreal.com/wiki/index.php5?title=DeveloperDocumentation:Scraper&amp;action=edit&amp;section=20">edit</A>]</SPAN> 
<SPAN class="mw-headline"> c_transform </SPAN></H3>
<P>This function calculates the simple average of each red, green, and blue 
component in the region.  The WH documentation calls this "a 3d center of mass 
calculation", but in truth it is a simple average.</P>
<P>That red, green and blue point is then plotted on XYZ axes.  A sphere is 
defined using the "color" parameter of the region (again, RGB plotted on XYZ 
axes) and the absolute value of the "radius" parameter of the region.  If the 
average color point falls within the defined sphere, then we have a match.  
UNLESS the radius is negative, then we need the average to fall outside of the 
sphere in order to have a match.</P><A name="i_transform"></A>
<H3><SPAN class="editsection">[<A title="Edit section: i_transform" href="http://www.maxinmontreal.com/wiki/index.php5?title=DeveloperDocumentation:Scraper&amp;action=edit&amp;section=21">edit</A>]</SPAN> 
<SPAN class="mw-headline"> i_transform </SPAN></H3>
<P>Not yet implemented.  Once the OpenHoldem development team sees this 
transform used in the real world, we will implement this function.</P><A name="h_transform"></A>
<H3><SPAN class="editsection">[<A title="Edit section: h_transform" href="http://www.maxinmontreal.com/wiki/index.php5?title=DeveloperDocumentation:Scraper&amp;action=edit&amp;section=22">edit</A>]</SPAN> 
<SPAN class="mw-headline"> h_transform </SPAN></H3>
<P>This function first calculates a hash of the pixels in the region. If this is 
a type "0" region, it uses all the pixels to create the hash, if it is a type 
"1", "2", or "3" region, it uses selected pixels as identified by the "P" 
parameters in the profile that match the type.</P>
<P>The hash is calculated using the hashword function, and then a matching hash 
is searched for in the h$ lines of the profile, and the index to the correct h$ 
is returned if found.</P><A name="t_transform"></A>
<H3><SPAN class="editsection">[<A title="Edit section: t_transform" href="http://www.maxinmontreal.com/wiki/index.php5?title=DeveloperDocumentation:Scraper&amp;action=edit&amp;section=23">edit</A>]</SPAN> 
<SPAN class="mw-headline"> t_transform </SPAN></H3>
<P>This function first loads only the foreground pixels into an in-memory 
structure.  Foreground pixels are identified with colors/radii/spheres using all 
channels, alpha, red, green, and blue.</P>
<P>The in memory pixel map is then shifted left and down (virtually) so that 
there are no blank lines to the left or on the bottom.</P>
<P>In order to find a match, the algorithm does a right-to-left scan, searching 
for the largest match of a hash value.</P>
<P>If a match is found, then the pointer is moved over to the right an amount 
equal to the size of the found character+1, and then the process continues, 
searching for the next character.</P>
<P>Once the algorithm runs out of foreground pixels, it returns the recognized 
string.</P><A name="Miscellaneous_scraper_utilities"></A>
<H3><SPAN class="editsection">[<A title="Edit section: Miscellaneous scraper utilities" 
href="http://www.maxinmontreal.com/wiki/index.php5?title=DeveloperDocumentation:Scraper&amp;action=edit&amp;section=24">edit</A>]</SPAN> 
<SPAN class="mw-headline"> Miscellaneous scraper utilities </SPAN></H3>
<P>The bottom of scraper.cpp contains a number of utility functions to recognize 
strings (or signals, as the WH documentation refers to them).  These are 
collected all in one place, for easy of maintenance and extension in the future.
</P>
<P><BR></P><A name="See_also"></A>
<H2><SPAN class="editsection">[<A title="Edit section: See also" href="http://www.maxinmontreal.com/wiki/index.php5?title=DeveloperDocumentation:Scraper&amp;action=edit&amp;section=25">edit</A>]</SPAN> 
<SPAN class="mw-headline"> See also </SPAN></H2>
<UL>
  <LI> <A title="OpenHoldem" href="http://www.maxinmontreal.com/wiki/index.php5/OpenHoldem">OpenHoldem</A>
  </LI>
  <LI> <A title="DeveloperDocumentation" href="http://www.maxinmontreal.com/wiki/index.php5/DeveloperDocumentation">Developer 
  Documentation</A></LI></UL><!-- Saved in parser cache with key maxin_wiki:pcache:idhash:239-0!1!0!!en!2 and timestamp 20130119000629 -->
<DIV class="printfooter">Retrieved from "<A href="http://www.maxinmontreal.com/wiki/index.php5/DeveloperDocumentation:Scraper">http://www.maxinmontreal.com/wiki/index.php5/DeveloperDocumentation:Scraper</A>"</DIV><!-- end content -->
<DIV class="visualClear"></DIV></DIV></DIV></DIV>
<DIV id="column-one">
<DIV id="p-cactions" class="portlet">
<H5>Views</H5>
<DIV class="pBody">
<UL>
  <LI id="ca-nstab-main" class="selected"><A accessKey="c" title="View the content page [c]" 
  href="http://www.maxinmontreal.com/wiki/index.php5/DeveloperDocumentation:Scraper">Article</A></LI>
  <LI id="ca-talk" class="new"><A accessKey="t" title="Discussion about the content page [t]" 
  href="http://www.maxinmontreal.com/wiki/index.php5?title=Talk:DeveloperDocumentation:Scraper&amp;action=edit">Discussion</A></LI>
  <LI id="ca-edit"><A accessKey="e" title="You can edit this page. Please use the preview button before saving. [e]" 
  href="http://www.maxinmontreal.com/wiki/index.php5?title=DeveloperDocumentation:Scraper&amp;action=edit">Edit</A></LI>
  <LI id="ca-history"><A accessKey="h" title="Past versions of this page. [h]" 
  href="http://www.maxinmontreal.com/wiki/index.php5?title=DeveloperDocumentation:Scraper&amp;action=history">History</A></LI></UL></DIV></DIV>
<DIV id="p-personal" class="portlet">
<H5>Personal tools</H5>
<DIV class="pBody">
<UL>
  <LI id="pt-login"><A accessKey="o" title="You are encouraged to log in, it is not mandatory however. [o]" 
  href="http://www.maxinmontreal.com/wiki/index.php5?title=Special:Userlogin&amp;returnto=DeveloperDocumentation:Scraper">Log 
  in / create account</A></LI></UL></DIV></DIV>
<DIV id="p-logo" class="portlet"><A style='background-image: url("/wiki/skins/common/images/wiki.png");' 
href="http://www.maxinmontreal.com/"></A></DIV>
<SCRIPT type="text/javascript"> if (window.isMSIE55) fixalpha(); </SCRIPT>

<DIV id="p-navigation" class="portlet">
<H5>Navigation</H5>
<DIV class="pBody">
<UL>
  <LI id="n-mainpage"><A accessKey="z" title="Visit the Main Page [z]" href="http://www.maxinmontreal.com/wiki/index.php5/Main_Page">Main 
  Page</A></LI>
  <LI id="n-portal"><A title="About the project, what you can do, where to find things" 
  href="http://www.maxinmontreal.com/wiki/index.php5/Maxin_Wiki:Community_Portal">Community 
  portal</A></LI>
  <LI id="n-currentevents"><A title="Find background information on current events" 
  href="http://www.maxinmontreal.com/wiki/index.php5/Current_events">Current 
  events</A></LI>
  <LI id="n-recentchanges"><A accessKey="r" title="The list of recent changes in the wiki. [r]" 
  href="http://www.maxinmontreal.com/wiki/index.php5/Special:Recentchanges">Recent 
  changes</A></LI>
  <LI id="n-randompage"><A accessKey="x" title="Load a random page [x]" href="http://www.maxinmontreal.com/wiki/index.php5/Special:Random">Random 
  page</A></LI>
  <LI id="n-help"><A title="The place to find out." href="http://www.maxinmontreal.com/wiki/index.php5/Help:Contents">Help</A></LI>
  <LI id="n-sitesupport"><A title="Support us" href="http://www.maxinmontreal.com/wiki/index.php5/Maxin_Wiki:Site_support">Donations</A></LI></UL></DIV></DIV>
<DIV id="p-search" class="portlet">
<H5><LABEL for="searchInput">Search</LABEL></H5>
<DIV id="searchBody" class="pBody">
<FORM id="searchform" action="/wiki/index.php5/Special:Search">
<DIV><INPUT accessKey="f" id="searchInput" title="Search Maxin Wiki [f]" name="search" 
type="text"><INPUT id="searchGoButton" class="searchButton" name="go" value="Go" type="submit">&nbsp;
				<INPUT id="mw-searchButton" class="searchButton" name="fulltext" value="Search" type="submit"></DIV></FORM></DIV></DIV>
<DIV id="p-tb" class="portlet">
<H5>Toolbox</H5>
<DIV class="pBody">
<UL>
  <LI id="t-whatlinkshere"><A accessKey="j" title="List of all wiki pages that link here [j]" 
  href="http://www.maxinmontreal.com/wiki/index.php5/Special:Whatlinkshere/DeveloperDocumentation:Scraper">What 
  links here</A></LI>
  <LI id="t-recentchangeslinked"><A accessKey="k" title="Recent changes in pages linked from this page [k]" 
  href="http://www.maxinmontreal.com/wiki/index.php5/Special:Recentchangeslinked/DeveloperDocumentation:Scraper">Related 
  changes</A></LI>
  <LI id="t-upload"><A accessKey="u" title="Upload images or media files [u]" 
  href="http://www.maxinmontreal.com/wiki/index.php5/Special:Upload">Upload 
  file</A></LI>
  <LI id="t-specialpages"><A accessKey="q" title="List of all special pages [q]" 
  href="http://www.maxinmontreal.com/wiki/index.php5/Special:Specialpages">Special 
  pages</A></LI>
  <LI id="t-print"><A accessKey="p" title="Printable version of this page [p]" 
  href="http://www.maxinmontreal.com/wiki/index.php5?title=DeveloperDocumentation:Scraper&amp;printable=yes">Printable 
  version</A></LI>
  <LI id="t-permalink"><A title="Permanent link to this version of the page" 
  href="http://www.maxinmontreal.com/wiki/index.php5?title=DeveloperDocumentation:Scraper&amp;oldid=616">Permanent 
  link</A></LI></UL></DIV></DIV></DIV><!-- end of the left (by default at least) column -->
<DIV class="visualClear"></DIV>
<DIV id="footer">
<DIV id="f-poweredbyico"><A href="http://www.mediawiki.org/"><IMG alt="Powered by MediaWiki" 
src="Developerdocumentation_scraper_files/poweredby_mediawiki_88x31.png"></A></DIV>
<UL id="f-list">
  <LI id="lastmod"> This page was last modified 16:11, 13 March 2008.</LI>
  <LI id="viewcount">This page has been accessed 1,605 times.</LI>
  <LI id="privacy"><A title="Maxin Wiki:Privacy policy" href="http://www.maxinmontreal.com/wiki/index.php5/Maxin_Wiki:Privacy_policy">Privacy 
  policy</A></LI>
  <LI id="about"><A title="Maxin Wiki:About" href="http://www.maxinmontreal.com/wiki/index.php5/Maxin_Wiki:About">About 
  Maxin Wiki</A></LI>
  <LI id="disclaimer"><A title="Maxin Wiki:General disclaimer" href="http://www.maxinmontreal.com/wiki/index.php5/Maxin_Wiki:General_disclaimer">Disclaimers</A></LI></UL></DIV>
<SCRIPT type="text/javascript">if (window.runOnloadHook) runOnloadHook();</SCRIPT>
</DIV><!-- Served in 0.096 secs. --></DIV></BODY></HTML>
