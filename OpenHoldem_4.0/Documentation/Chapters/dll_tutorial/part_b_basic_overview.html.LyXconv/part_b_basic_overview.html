<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"  
  "http://www.w3.org/TR/html4/loose.dtd">  
<html > 
<head><title></title> 
<meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1"> 
<meta name="generator" content="TeX4ht (http://www.cse.ohio-state.edu/~gurari/TeX4ht/)"> 
<meta name="originator" content="TeX4ht (http://www.cse.ohio-state.edu/~gurari/TeX4ht/)"> 
<!-- html --> 
<meta name="src" content="part_b_basic_overview.tex"> 
<meta name="date" content="2010-05-07 01:33:00"> 
<link rel="stylesheet" type="text/css" href="part_b_basic_overview.css"> 
</head><body bgcolor="#CCCCFF" 
>
   <h3 class="sectionHead"><a 
 id="x1-1000"></a>Basic overview over the dll structure &amp; examples</h3>
<!--l. 28--><p class="noindent" >If you are not following my guide &#8220;Compiling the first dll&#8221; there might be slight
differences in the basic files you use, since i already added some code, which is needed
anyway.
   <h4 class="subsectionHead"><a 
 id="x1-2000"></a>The OH-DLL.cpp</h4>
   <!--l. 36-->
   <div class="lstlisting" id="listing-1"><span class="label"><a 
 id="x1-2001r1"></a></span>#define&#x00A0;WHUSER_EXPORTS&#x00A0;<br /><span class="label"><a 
 id="x1-2002r2"></a></span>#include&#x00A0;"OH<span 
class="cmsy-10">-</span>DLL.h"&#x00A0;#include&#x00A0;&#x003C;windows.h&#x003E;&#x00A0;<br /><span class="label"><a 
 id="x1-2003r3"></a></span>/////////////////////////////////////&#x00A0;&#x00A0;//card&#x00A0;macros&#x00A0;&#x00A0;#define&#x00A0;RANK(c)&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;((c&#x003E;&#x003E;4)&amp;0x0f)&#x00A0;&#x00A0;#define&#x00A0;SUIT(c)&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;((c&#x003E;&#x003E;0)&amp;0x0f)&#x00A0;&#x00A0;#define&#x00A0;ISCARDBACK(c)&#x00A0;&#x00A0;&#x00A0;(c==0xff)&#x00A0;&#x00A0;#define&#x00A0;ISUNKNOWN(c)&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;(c==0)&#x00A0;&#x00A0;/////////////////////////////////////&#x00A0;<br /><span class="label"><a 
 id="x1-2004r4"></a></span>////////////////////////////////////&#x00A0;&#x00A0;//consecutive&#x00A0;states&#x00A0;&#x00A0;holdem_state&#x00A0;&#x00A0;&#x00A0;&#x00A0;m_holdem_state[256];&#x00A0;&#x00A0;unsigned&#x00A0;char&#x00A0;&#x00A0;&#x00A0;m_ndx;&#x00A0;&#x00A0;////////////////////////////////////&#x00A0;<br /><span class="label"><a 
 id="x1-2005r5"></a></span>////////////////////////////////////&#x00A0;&#x00A0;//versus&#x00A0;list&#x00A0;&amp;&#x00A0;prwin&#x00A0;phl1k_t&#x00A0;m_phl1k;&#x00A0;pp13&#x00A0;prw1326;&#x00A0;////////////////////////////////////&#x00A0;<br /><span class="label"><a 
 id="x1-2006r6"></a></span>////////////////////////////////////&#x00A0;&#x00A0;//WH&#x00A0;symbols&#x00A0;pfgws_t&#x00A0;m_pget_winholdem_symbol;&#x00A0;////////////////////////////////////&#x00A0;<br /><span class="label"><a 
 id="x1-2007r7"></a></span>double&#x00A0;gws(int&#x00A0;chair,&#x00A0;const&#x00A0;char<span 
class="cmsy-10">*</span>&#x00A0;name,&#x00A0;bool&amp;&#x00A0;iserr){&#x00A0;return&#x00A0;(<span 
class="cmsy-10">*</span>m_pget_winholdem_symbol)(chair,name,iserr);&#x00A0;&#x00A0;}&#x00A0;<br /><span class="label"><a 
 id="x1-2008r8"></a></span>double&#x00A0;gws(const&#x00A0;char<span 
class="cmsy-10">*</span>&#x00A0;name){&#x00A0;bool&#x00A0;iserr;&#x00A0;&#x00A0;&#x00A0;int&#x00A0;mychair&#x00A0;=&#x00A0;(int)gws(0,"userchair",iserr);&#x00A0;&#x00A0;&#x00A0;return&#x00A0;gws(mychair,name,iserr);&#x00A0;&#x00A0;}&#x00A0;<br /><span class="label"><a 
 id="x1-2009r9"></a></span>bool&#x00A0;hlset(&#x00A0;int&#x00A0;rank0,&#x00A0;int&#x00A0;rank1,&#x00A0;int&#x00A0;listnum,&#x00A0;bool&#x00A0;onoff&#x00A0;){&#x00A0;&#x00A0;&#x00A0;&#x00A0;return&#x00A0;((<span 
class="cmsy-10">*</span>m_phl1k)[listnum][rank0<span 
class="cmsy-10">-</span>2][rank1<span 
class="cmsy-10">-</span>2]&#x00A0;=&#x00A0;onoff);&#x00A0;}&#x00A0;<br /><span class="label"><a 
 id="x1-2010r10"></a></span>bool&#x00A0;hlget(&#x00A0;int&#x00A0;rank0,&#x00A0;int&#x00A0;rank1,&#x00A0;int&#x00A0;listnum&#x00A0;){&#x00A0;&#x00A0;&#x00A0;&#x00A0;return&#x00A0;((<span 
class="cmsy-10">*</span>m_phl1k)[listnum][rank0<span 
class="cmsy-10">-</span>2][rank1<span 
class="cmsy-10">-</span>2]);&#x00A0;}&#x00A0;<br /><span class="label"><a 
 id="x1-2011r11"></a></span>double&#x00A0;process_query(const&#x00A0;char<span 
class="cmsy-10">*</span>&#x00A0;pquery){&#x00A0;<br /><span class="label"><a 
 id="x1-2012r12"></a></span>&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;if(pquery==NULL)&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;return&#x00A0;0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;//example&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;if(strcmp(pquery,"dll$test")==0)&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;return&#x00A0;101;&#x00A0;<br /><span class="label"><a 
 id="x1-2013r13"></a></span>&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;return&#x00A0;0;&#x00A0;<br /><span class="label"><a 
 id="x1-2014r14"></a></span>}&#x00A0;<br /><span class="label"><a 
 id="x1-2015r15"></a></span>double&#x00A0;process_state(holdem_state<span 
class="cmsy-10">*</span>&#x00A0;pstate){&#x00A0;<br /><span class="label"><a 
 id="x1-2016r16"></a></span>&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;if(pstate!=NULL)&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;m_holdem_state[&#x00A0;(++m_ndx)&amp;0xff&#x00A0;]&#x00A0;=&#x00A0;<span 
class="cmsy-10">*</span>pstate;&#x00A0;<br /><span class="label"><a 
 id="x1-2017r17"></a></span>&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;return&#x00A0;0;&#x00A0;<br /><span class="label"><a 
 id="x1-2018r18"></a></span>}&#x00A0;/////////////////////////////////////////////////////&#x00A0;&#x00A0;//WINHOLDEM&#x00A0;RUNTIME&#x00A0;ENTRY&#x00A0;POINT&#x00A0;&#x00A0;/////////////////////////////////////////////////////&#x00A0;&#x00A0;WHUSER_API&#x00A0;double&#x00A0;process_message(const&#x00A0;char<span 
class="cmsy-10">*</span>&#x00A0;pmessage,&#x00A0;const&#x00A0;void<span 
class="cmsy-10">*</span>&#x00A0;param){&#x00A0;<br /><span class="label"><a 
 id="x1-2019r19"></a></span>&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;if(pmessage==NULL){&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;return&#x00A0;0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;}&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;if(param==NULL){&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;return&#x00A0;0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;}&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;if(strcmp(pmessage,"state")==0){&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;return&#x00A0;process_state(&#x00A0;(holdem_state<span 
class="cmsy-10">*</span>)param&#x00A0;);&#x00A0;}&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;if(strcmp(pmessage,"phl1k")==0){&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;m_phl1k&#x00A0;=&#x00A0;(phl1k_t)param;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;return&#x00A0;0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;}&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;if(strcmp(pmessage,"prw1326")==0){&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;prw1326&#x00A0;=&#x00A0;(pp13)param;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;return&#x00A0;0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;}&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;if(strcmp(pmessage,"query")==0){&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;return&#x00A0;process_query((const&#x00A0;char<span 
class="cmsy-10">*</span>)param);&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;}&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;if(strcmp(pmessage,"pfgws")==0){&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;m_pget_winholdem_symbol&#x00A0;=&#x00A0;(pfgws_t)param;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;return&#x00A0;0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;}&#x00A0;<br /><span class="label"><a 
 id="x1-2020r20"></a></span>&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;return&#x00A0;0;&#x00A0;<br /><span class="label"><a 
 id="x1-2021r21"></a></span>}&#x00A0;/////////////////////////////////&#x00A0;&#x00A0;//DLLMAIN&#x00A0;&#x00A0;/////////////////////////////////&#x00A0;&#x00A0;BOOL&#x00A0;APIENTRY&#x00A0;DllMain(&#x00A0;HANDLE&#x00A0;hModule,&#x00A0;DWORD&#x00A0;ul_reason_for_call,&#x00A0;LPVOID&#x00A0;lpReserved){&#x00A0;<br /><span class="label"><a 
 id="x1-2022r22"></a></span>&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;switch(ul_reason_for_call){&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;case&#x00A0;DLL_PROCESS_ATTACH:&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;break;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;case&#x00A0;DLL_THREAD_ATTACH:&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;break;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;case&#x00A0;DLL_THREAD_DETACH:&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;break;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;case&#x00A0;DLL_PROCESS_DETACH:&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;break;&#x00A0;}&#x00A0;<br /><span class="label"><a 
 id="x1-2023r23"></a></span>&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;return&#x00A0;TRUE;&#x00A0;<br /><span class="label"><a 
 id="x1-2024r24"></a></span>}
   </div>
   <h4 class="subsectionHead"><a 
 id="x1-3000"></a>gws function</h4>
   <!--l. 68-->
   <div class="lstlisting" id="listing-2"><span class="label"><a 
 id="x1-3001r1"></a></span>double&#x00A0;gws(const&#x00A0;char<span 
class="cmsy-10">*</span>&#x00A0;name){&#x00A0;bool&#x00A0;iserr;&#x00A0;&#x00A0;&#x00A0;int&#x00A0;mychair&#x00A0;=&#x00A0;(int)gws(0,"userchair",iserr);&#x00A0;&#x00A0;&#x00A0;return&#x00A0;gws(mychair,name,iserr);&#x00A0;&#x00A0;}
   </div>
<!--l. 73--><p class="indent" >   This function you see here, is very important, because you can access all symbols,
which are available for Openholdem with it. E.g: gws("userchair") returns the value of
the userchair symbol.
   <h4 class="subsectionHead"><a 
 id="x1-4000"></a>hlset &amp; hlget</h4>
   <!--l. 81-->
   <div class="lstlisting" id="listing-3"><span class="label"><a 
 id="x1-4001r1"></a></span>bool&#x00A0;hlset(&#x00A0;int&#x00A0;rank0,&#x00A0;int&#x00A0;rank1,&#x00A0;int&#x00A0;listnum,&#x00A0;bool&#x00A0;onoff&#x00A0;){&#x00A0;&#x00A0;&#x00A0;&#x00A0;return&#x00A0;((<span 
class="cmsy-10">*</span>m_phl1k)[listnum][rank0<span 
class="cmsy-10">-</span>2][rank1<span 
class="cmsy-10">-</span>2]&#x00A0;=&#x00A0;onoff);&#x00A0;}&#x00A0;<br /><span class="label"><a 
 id="x1-4002r2"></a></span>bool&#x00A0;hlget(&#x00A0;int&#x00A0;rank0,&#x00A0;int&#x00A0;rank1,&#x00A0;int&#x00A0;listnum&#x00A0;){&#x00A0;&#x00A0;&#x00A0;&#x00A0;return&#x00A0;((<span 
class="cmsy-10">*</span>m_phl1k)[listnum][rank0<span 
class="cmsy-10">-</span>2][rank1<span 
class="cmsy-10">-</span>2]);&#x00A0;}
   </div>
<!--l. 87--><p class="indent" >   These functions can be used to access and dynamically modify versus lists during
play e.g:
   <!--l. 91-->
   <div class="lstlisting" id="listing-4"><span class="label"><a 
 id="x1-4003r1"></a></span>hlset(&#x00A0;14,&#x00A0;13,&#x00A0;5,&#x00A0;1);
   </div>
<!--l. 96--><p class="indent" >   this sets AKs on list 5 to true. More details can be found here:
<a 
href="http://www.maxinmontreal.com/wiki/index.php5?title=Phl1k" class="url" ><span 
class="ectt-1000">http://www.maxinmontreal.com/wiki/index.php5?title=Phl1k</span></a>.!!!
   <h4 class="subsectionHead"><a 
 id="x1-5000"></a>process_query function</h4>
   <!--l. 102-->
   <div class="lstlisting" id="listing-5"><span class="label"><a 
 id="x1-5001r1"></a></span>double&#x00A0;process_query(const&#x00A0;char<span 
class="cmsy-10">*</span>&#x00A0;pquery){&#x00A0;<br /><span class="label"><a 
 id="x1-5002r2"></a></span>&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;if(pquery==NULL)&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;return&#x00A0;0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;//example&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;if(strcmp(pquery,"dll$test")==0)&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;return&#x00A0;101;&#x00A0;<br /><span class="label"><a 
 id="x1-5003r3"></a></span>&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;return&#x00A0;0;&#x00A0;<br /><span class="label"><a 
 id="x1-5004r4"></a></span>}

   </div>
<!--l. 110--><p class="indent" >   Inside this scope you can define symbols which you can access with the OH formula
editor.
<!--l. 113--><p class="indent" >   E.g: If you add " = dll$test" in the OH formula editor in the debug tab, you&#8217;ll get
the value "101". You can experiment with it if you want and try some values from the
gws function, but remember to recompile each time you change something in the
code.
   <h4 class="subsectionHead"><a 
 id="x1-6000"></a>process_state function</h4>
   <!--l. 123-->
   <div class="lstlisting" id="listing-6"><span class="label"><a 
 id="x1-6001r1"></a></span>double&#x00A0;process_state(holdem_state<span 
class="cmsy-10">*</span>&#x00A0;pstate){&#x00A0;<br /><span class="label"><a 
 id="x1-6002r2"></a></span>&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;if(pstate!=NULL)&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;m_holdem_state[&#x00A0;(++m_ndx)&amp;0xff&#x00A0;]&#x00A0;=&#x00A0;<span 
class="cmsy-10">*</span>pstate;&#x00A0;<br /><span class="label"><a 
 id="x1-6003r3"></a></span>&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;return&#x00A0;0;&#x00A0;<br /><span class="label"><a 
 id="x1-6004r4"></a></span>}
   </div>
   <h4 class="subsectionHead"><a 
 id="x1-7000"></a>The OH-DLL.h Header</h4>
   <!--l. 135-->
   <div class="lstlisting" id="listing-7"><span class="label"><a 
 id="x1-7001r1"></a></span>#ifndef&#x00A0;_whuser_h_&#x00A0;#define&#x00A0;_whuser_h_&#x00A0;<br /><span class="label"><a 
 id="x1-7002r2"></a></span>#ifdef&#x00A0;WHUSER_EXPORTS&#x00A0;#define&#x00A0;WHUSER_API&#x00A0;__declspec(dllexport)&#x00A0;#else&#x00A0;#define&#x00A0;WHUSER_API&#x00A0;__declspec(dllimport)&#x00A0;#endif&#x00A0;<br /><span class="label"><a 
 id="x1-7003r3"></a></span>struct&#x00A0;holdem_player{&#x00A0;<br /><span class="label"><a 
 id="x1-7004r4"></a></span>&#x00A0;&#x00A0;&#x00A0;&#x00A0;char&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;m_name[16]&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;//player&#x00A0;name&#x00A0;if&#x00A0;known&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;double&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;m_balance&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;//player&#x00A0;balance&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;double&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;m_currentbet&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;;&#x00A0;&#x00A0;&#x00A0;&#x00A0;//player&#x00A0;current&#x00A0;bet&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;unsigned&#x00A0;char&#x00A0;&#x00A0;&#x00A0;m_cards[2]&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;;//player&#x00A0;cards&#x00A0;<br /><span class="label"><a 
 id="x1-7005r5"></a></span>&#x00A0;&#x00A0;&#x00A0;&#x00A0;unsigned&#x00A0;char&#x00A0;&#x00A0;&#x00A0;m_name_known&#x00A0;&#x00A0;&#x00A0;&#x00A0;:&#x00A0;1&#x00A0;;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;//0=no&#x00A0;1=yes&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;unsigned&#x00A0;char&#x00A0;&#x00A0;&#x00A0;m_balance_known&#x00A0;:&#x00A0;1&#x00A0;;//0=no&#x00A0;1=yes&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;unsigned&#x00A0;char&#x00A0;&#x00A0;&#x00A0;m_fillerbits&#x00A0;&#x00A0;&#x00A0;&#x00A0;:&#x00A0;6&#x00A0;;//filler&#x00A0;bits&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;unsigned&#x00A0;char&#x00A0;&#x00A0;&#x00A0;m_fillerbyte&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;;//filler&#x00A0;bytes&#x00A0;<br /><span class="label"><a 
 id="x1-7006r6"></a></span>};&#x00A0;<br /><span class="label"><a 
 id="x1-7007r7"></a></span>struct&#x00A0;holdem_state{&#x00A0;<br /><span class="label"><a 
 id="x1-7008r8"></a></span>&#x00A0;&#x00A0;&#x00A0;&#x00A0;char&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;m_title[64]&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;//table&#x00A0;title&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;double&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;m_pot[10]&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;;//total&#x00A0;in&#x00A0;each&#x00A0;pot&#x00A0;<br /><span class="label"><a 
 id="x1-7009r9"></a></span>&#x00A0;&#x00A0;&#x00A0;&#x00A0;unsigned&#x00A0;char&#x00A0;&#x00A0;&#x00A0;m_cards[5]&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;//common&#x00A0;cards&#x00A0;<br /><span class="label"><a 
 id="x1-7010r10"></a></span>&#x00A0;&#x00A0;&#x00A0;&#x00A0;unsigned&#x00A0;char&#x00A0;&#x00A0;&#x00A0;m_is_playing&#x00A0;&#x00A0;&#x00A0;&#x00A0;:&#x00A0;1&#x00A0;;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;//0=sitting<span 
class="cmsy-10">-</span>out,&#x00A0;1=sitting<span 
class="cmsy-10">-</span>in&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;unsigned&#x00A0;char&#x00A0;&#x00A0;&#x00A0;m_is_posting&#x00A0;&#x00A0;&#x00A0;&#x00A0;:&#x00A0;1&#x00A0;;//0=autopost<span 
class="cmsy-10">-</span>off,&#x00A0;1=autopost<span 
class="cmsy-10">-</span>on&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;unsigned&#x00A0;char&#x00A0;&#x00A0;&#x00A0;m_fillerbits&#x00A0;&#x00A0;&#x00A0;&#x00A0;:&#x00A0;6&#x00A0;;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;//filler&#x00A0;bits&#x00A0;<br /><span class="label"><a 
 id="x1-7011r11"></a></span>&#x00A0;&#x00A0;&#x00A0;&#x00A0;unsigned&#x00A0;char&#x00A0;&#x00A0;&#x00A0;m_fillerbyte&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;//filler&#x00A0;byte&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;unsigned&#x00A0;char&#x00A0;&#x00A0;&#x00A0;m_dealer_chair&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;;//0<span 
class="cmsy-10">-</span>9&#x00A0;<br /><span class="label"><a 
 id="x1-7012r12"></a></span>&#x00A0;&#x00A0;&#x00A0;&#x00A0;holdem_player&#x00A0;&#x00A0;&#x00A0;m_player[10]&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;//player&#x00A0;records&#x00A0;<br /><span class="label"><a 
 id="x1-7013r13"></a></span>};&#x00A0;<br /><span class="label"><a 
 id="x1-7014r14"></a></span>struct&#x00A0;sprw1326_chair{&#x00A0;<br /><span class="label"><a 
 id="x1-7015r15"></a></span>&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;int&#x00A0;&#x00A0;&#x00A0;&#x00A0;level;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;//indicates&#x00A0;weighting&#x00A0;level&#x00A0;for&#x00A0;&#8217;always&#x00A0;consider&#8217;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;int&#x00A0;&#x00A0;&#x00A0;&#x00A0;limit;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;//max&#x00A0;index&#x00A0;into&#x00A0;weight&#x00A0;array&#x00A0;<span 
class="cmsy-10">-</span>&#x00A0;used&#x00A0;for&#x00A0;computational&#x00A0;efficiency&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;int&#x00A0;&#x00A0;&#x00A0;&#x00A0;ignore;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;//if&#x00A0;non<span 
class="cmsy-10">-</span>zero&#x00A0;no&#x00A0;weighting&#x00A0;will&#x00A0;be&#x00A0;applied&#x00A0;to&#x00A0;this&#x00A0;chair&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;int&#x00A0;&#x00A0;&#x00A0;&#x00A0;rankhi[1326];&#x00A0;&#x00A0;//higher&#x00A0;ranked&#x00A0;card&#x00A0;number&#x00A0;in&#x00A0;pocket&#x00A0;cards&#x00A0;&#x00A0;&#x00A0;int&#x00A0;&#x00A0;&#x00A0;&#x00A0;ranklo[1326];&#x00A0;&#x00A0;//lower&#x00A0;ranked&#x00A0;card&#x00A0;number&#x00A0;in&#x00A0;pocket&#x00A0;cards&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;int&#x00A0;&#x00A0;&#x00A0;&#x00A0;weight[1326];&#x00A0;&#x00A0;//the&#x00A0;significance&#x00A0;value&#x00A0;for&#x00A0;this&#x00A0;hand&#x00A0;doublescratch;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;//for&#x00A0;future&#x00A0;reference&#x00A0;<br /><span class="label"><a 
 id="x1-7016r16"></a></span>};&#x00A0;<br /><span class="label"><a 
 id="x1-7017r17"></a></span>struct&#x00A0;sprw1326{&#x00A0;<br /><span class="label"><a 
 id="x1-7018r18"></a></span>&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;int&#x00A0;&#x00A0;&#x00A0;&#x00A0;useme;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;//unless&#x00A0;set&#x00A0;to&#x00A0;1326&#x00A0;the&#x00A0;normal&#x00A0;OH&#x00A0;prwin&#x00A0;will&#x00A0;be&#x00A0;used&#x00A0;int&#x00A0;&#x00A0;&#x00A0;&#x00A0;preflop;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;//unless&#x00A0;set&#x00A0;to&#x00A0;1326&#x00A0;the&#x00A0;normal&#x00A0;OH&#x00A0;prwin&#x00A0;will&#x00A0;be&#x00A0;used&#x00A0;pre<span 
class="cmsy-10">-</span>flop&#x00A0;int&#x00A0;&#x00A0;&#x00A0;&#x00A0;usecallback;&#x00A0;&#x00A0;//unless&#x00A0;set&#x00A0;to&#x00A0;1326&#x00A0;the&#x00A0;callback&#x00A0;function&#x00A0;will&#x00A0;not&#x00A0;be&#x00A0;invoked&#x00A0;double(<span 
class="cmsy-10">*</span>prw_callback)(void);&#x00A0;//if&#x00A0;enabled&#x00A0;will&#x00A0;be&#x00A0;invoked&#x00A0;before&#x00A0;the&#x00A0;prwin&#x00A0;calculation&#x00A0;pass&#x00A0;doublescratch;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;//for&#x00A0;future&#x00A0;reference&#x00A0;int&#x00A0;&#x00A0;&#x00A0;&#x00A0;bblimp;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;//if&#x00A0;non<span 
class="cmsy-10">-</span>zero&#x00A0;no&#x00A0;weighting&#x00A0;will&#x00A0;be&#x00A0;applied&#x00A0;if&#x00A0;a&#x00A0;chair&#x00A0;has&#x00A0;put&#x00A0;nothing&#x00A0;in&#x00A0;the&#x00A0;pot&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;sprw1326_chairvanilla_chair;&#x00A0;&#x00A0;&#x00A0;//will&#x00A0;be&#x00A0;precalculated&#x00A0;by&#x00A0;OH&#x00A0;at&#x00A0;startup&#x00A0;<span 
class="cmsy-10">-</span>&#x00A0;convenience&#x00A0;values&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;sprw1326_chair&#x00A0;&#x00A0;chair[10];&#x00A0;&#x00A0;//structures&#x00A0;for&#x00A0;each&#x00A0;chair&#x00A0;<br /><span class="label"><a 
 id="x1-7019r19"></a></span>};&#x00A0;<br /><span class="label"><a 
 id="x1-7020r20"></a></span>typedef&#x00A0;double&#x00A0;(<span 
class="cmsy-10">*</span>process_message_t)(const&#x00A0;char<span 
class="cmsy-10">*</span>&#x00A0;message,&#x00A0;const&#x00A0;void<span 
class="cmsy-10">*</span>&#x00A0;param&#x00A0;);&#x00A0;WHUSER_API&#x00A0;double&#x00A0;process_message(&#x00A0;const&#x00A0;char<span 
class="cmsy-10">*</span>&#x00A0;message,&#x00A0;const&#x00A0;void<span 
class="cmsy-10">*</span>&#x00A0;param&#x00A0;);&#x00A0;<br /><span class="label"><a 
 id="x1-7021r21"></a></span>typedef&#x00A0;double&#x00A0;(<span 
class="cmsy-10">*</span>pfgws_t)(&#x00A0;int&#x00A0;c,&#x00A0;const&#x00A0;char<span 
class="cmsy-10">*</span>&#x00A0;psym,&#x00A0;bool&amp;&#x00A0;iserr&#x00A0;);&#x00A0;typedef&#x00A0;bool&#x00A0;hl1k_t[1000][13][13];&#x00A0;&#x00A0;//&#x00A0;list&#x00A0;number,&#x00A0;rank0,&#x00A0;rank1&#x00A0;<span 
class="cmsy-10">-</span>&#x00A0;rank0&#x003E;=rank1&#x00A0;==&#x00A0;suited,&#x00A0;rank0&#x003C;rank1&#x00A0;==&#x00A0;unsuited&#x00A0;typedef&#x00A0;hl1k_t<span 
class="cmsy-10">*</span>&#x00A0;phl1k_t;&#x00A0;typedef&#x00A0;sprw1326<span 
class="cmsy-10">*</span>&#x00A0;pp13;&#x00A0;<br /><span class="label"><a 
 id="x1-7022r22"></a></span>#endif
   </div>
<!--l. 161--><p class="indent" >   Here you have some definitions of datatypes. The important definitions are the two
structs, you can basically compare a "struct"-datatype to an object with some attributes,
these attributes are accessed by using the "." operator, look in the examples section
below.
   <h4 class="subsectionHead"><a 
 id="x1-8000"></a>The struct holdem_state</h4>
   <!--l. 171-->
   <div class="lstlisting" id="listing-8"><span class="label"><a 
 id="x1-8001r1"></a></span>struct&#x00A0;holdem_state{&#x00A0;<br /><span class="label"><a 
 id="x1-8002r2"></a></span>&#x00A0;&#x00A0;&#x00A0;&#x00A0;char&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;m_title[64]&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;//table&#x00A0;title&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;double&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;m_pot[10]&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;;//total&#x00A0;in&#x00A0;each&#x00A0;pot&#x00A0;<br /><span class="label"><a 
 id="x1-8003r3"></a></span>&#x00A0;&#x00A0;&#x00A0;&#x00A0;unsigned&#x00A0;char&#x00A0;&#x00A0;&#x00A0;m_cards[5]&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;//common&#x00A0;cards&#x00A0;<br /><span class="label"><a 
 id="x1-8004r4"></a></span>&#x00A0;&#x00A0;&#x00A0;&#x00A0;unsigned&#x00A0;char&#x00A0;&#x00A0;&#x00A0;m_is_playing&#x00A0;&#x00A0;&#x00A0;&#x00A0;:&#x00A0;1&#x00A0;;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;//0=sitting<span 
class="cmsy-10">-</span>out,&#x00A0;1=sitting<span 
class="cmsy-10">-</span>in&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;unsigned&#x00A0;char&#x00A0;&#x00A0;&#x00A0;m_is_posting&#x00A0;&#x00A0;&#x00A0;&#x00A0;:&#x00A0;1&#x00A0;;//0=autopost<span 
class="cmsy-10">-</span>off,&#x00A0;1=autopost<span 
class="cmsy-10">-</span>on&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;unsigned&#x00A0;char&#x00A0;&#x00A0;&#x00A0;m_fillerbits&#x00A0;&#x00A0;&#x00A0;&#x00A0;:&#x00A0;6&#x00A0;;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;//filler&#x00A0;bits&#x00A0;<br /><span class="label"><a 
 id="x1-8005r5"></a></span>&#x00A0;&#x00A0;&#x00A0;&#x00A0;unsigned&#x00A0;char&#x00A0;&#x00A0;&#x00A0;m_fillerbyte&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;//filler&#x00A0;byte&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;unsigned&#x00A0;char&#x00A0;&#x00A0;&#x00A0;m_dealer_chair&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;;//0<span 
class="cmsy-10">-</span>9&#x00A0;<br /><span class="label"><a 
 id="x1-8006r6"></a></span>&#x00A0;&#x00A0;&#x00A0;&#x00A0;holdem_player&#x00A0;&#x00A0;&#x00A0;m_player[10]&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;//player&#x00A0;records&#x00A0;<br /><span class="label"><a 
 id="x1-8007r7"></a></span>};
   </div>
           <ul class="itemize1">
        <li class="itemize">What you basically have here is the information of a OH state which was
        scraped.
           </li>
        <li class="itemize">You  can  access  information  like  the  tabletitle/potsize/dealerchair  etc.
        Ofcourse that is nothing new, as you have symbols formost of that at the
        formula level.
           </li>
        <li class="itemize">It also holds information about the players which is saved in the "struct"
        "holdem_player".</li></ul>

   <h4 class="subsectionHead"><a 
 id="x1-9000"></a>The struct holdem_player</h4>
   <!--l. 194-->
   <div class="lstlisting" id="listing-9"><span class="label"><a 
 id="x1-9001r1"></a></span>struct&#x00A0;holdem_player{&#x00A0;<br /><span class="label"><a 
 id="x1-9002r2"></a></span>&#x00A0;&#x00A0;&#x00A0;&#x00A0;char&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;m_name[16]&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;//player&#x00A0;name&#x00A0;if&#x00A0;known&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;double&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;m_balance&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;//player&#x00A0;balance&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;double&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;m_currentbet&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;;&#x00A0;&#x00A0;&#x00A0;&#x00A0;//player&#x00A0;current&#x00A0;bet&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;unsigned&#x00A0;char&#x00A0;&#x00A0;&#x00A0;m_cards[2]&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;;//player&#x00A0;cards&#x00A0;<br /><span class="label"><a 
 id="x1-9003r3"></a></span>&#x00A0;&#x00A0;&#x00A0;&#x00A0;unsigned&#x00A0;char&#x00A0;&#x00A0;&#x00A0;m_name_known&#x00A0;&#x00A0;&#x00A0;&#x00A0;:&#x00A0;1&#x00A0;;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;//0=no&#x00A0;1=yes&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;unsigned&#x00A0;char&#x00A0;&#x00A0;&#x00A0;m_balance_known&#x00A0;:&#x00A0;1&#x00A0;;//0=no&#x00A0;1=yes&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;unsigned&#x00A0;char&#x00A0;&#x00A0;&#x00A0;m_fillerbits&#x00A0;&#x00A0;&#x00A0;&#x00A0;:&#x00A0;6&#x00A0;;//filler&#x00A0;bits&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;unsigned&#x00A0;char&#x00A0;&#x00A0;&#x00A0;m_fillerbyte&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;;//filler&#x00A0;bytes&#x00A0;<br /><span class="label"><a 
 id="x1-9004r4"></a></span>};
   </div>
<!--l. 202--><p class="indent" >   Pretty obvious that this contains information about the players at the table. You can
access balances/currentbets/cards/names.
   <h4 class="subsectionHead"><a 
 id="x1-10000"></a>prw1326 Datastructures</h4>
<!--l. 208--><p class="noindent" >You can find all information and examples on it in these articles:
<a 
href="http://www.maxinmontreal.com/wiki/index.php5?title=Prw1326" class="url" ><span 
class="ectt-1000">http://www.maxinmontreal.com/wiki/index.php5?title=Prw1326</span></a>,
<a 
href="http://www.maxinmontreal.com/wiki/index.php5?title=Enhanced_Prwin" class="url" ><span 
class="ectt-1000">http://www.maxinmontreal.com/wiki/index.php5?title=Enhanced_Prwin</span></a>.!!!
   <h4 class="subsectionHead"><a 
 id="x1-11000"></a>Examples</h4>
   <h5 class="subsubsectionHead"><a 
 id="x1-12000"></a>Acessing information from the "struct" "holdem_state"</h5>
   <!--l. 220-->
   <div class="lstlisting" id="listing-10"><span class="label"><a 
 id="x1-12001r1"></a></span>double&#x00A0;process_query(const&#x00A0;char<span 
class="cmsy-10">*</span>&#x00A0;pquery){&#x00A0;<br /><span class="label"><a 
 id="x1-12002r2"></a></span>&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;if(pquery==NULL)&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;return&#x00A0;0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;//example&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;if(strcmp(pquery,"dll$test")==0)&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;return&#x00A0;101;&#x00A0;&#x00A0;&#x00A0;if(strcmp(pquery,"dll$dealerchair")==0)&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;return&#x00A0;m_holdem_state[(m_ndx)&amp;0xff].m_dealer_chair;&#x00A0;&#x00A0;&#x00A0;if(strcmp(pquery,"dll$currentbet3")==0)&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;return&#x00A0;m_holdem_state[(m_ndx)&amp;0xff].m_player[3].m_currentbet;&#x00A0;<br /><span class="label"><a 
 id="x1-12003r3"></a></span>&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;return&#x00A0;0;&#x00A0;<br /><span class="label"><a 
 id="x1-12004r4"></a></span>}
   </div>
<!--l. 228--><p class="indent" >   You can see in the code example above, how you have to use the point
operator on a struct to access the information stored in the struct of the scraped
state.
   <h5 class="subsubsectionHead"><a 
 id="x1-13000"></a>A function returning the flush rank of the player</h5>
<!--l. 235--><p class="noindent" >For convinience we restructure the code, by adding another header file:
           <ul class="itemize1">
        <li class="itemize">Click on project -&#x003E; Add New Item -&#x003E; select "Header File (.h)" -&#x003E; name it
        "OH-general", you can also do it in the solution explorer by clicking on the
        "Header Files" folder. <!--l. 242-->
           <div class="lstlisting" id="listing-11"><span class="label"><a 
 id="x1-13001r1"></a></span>/////////////////////////////////////&#x00A0;&#x00A0;//card&#x00A0;macros&#x00A0;&#x00A0;#define&#x00A0;RANK(c)&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;((c&#x003E;&#x003E;4)&amp;0x0f)&#x00A0;&#x00A0;#define&#x00A0;SUIT(c)&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;((c&#x003E;&#x003E;0)&amp;0x0f)&#x00A0;&#x00A0;#define&#x00A0;ISCARDBACK(c)&#x00A0;&#x00A0;&#x00A0;(c==0xff)&#x00A0;&#x00A0;#define&#x00A0;ISUNKNOWN(c)&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;(c==0)&#x00A0;&#x00A0;/////////////////////////////////////&#x00A0;<br /><span class="label"><a 
 id="x1-13002r2"></a></span>////////////////////////////////////&#x00A0;&#x00A0;//consecutive&#x00A0;states&#x00A0;&#x00A0;holdem_state&#x00A0;&#x00A0;&#x00A0;&#x00A0;m_holdem_state[256];&#x00A0;&#x00A0;unsigned&#x00A0;char&#x00A0;&#x00A0;&#x00A0;m_ndx;&#x00A0;&#x00A0;////////////////////////////////////&#x00A0;<br /><span class="label"><a 
 id="x1-13003r3"></a></span>////////////////////////////////////&#x00A0;&#x00A0;//versus&#x00A0;list&#x00A0;&amp;&#x00A0;prwin&#x00A0;phl1k_t&#x00A0;m_phl1k;&#x00A0;pp13&#x00A0;prw1326;&#x00A0;////////////////////////////////////&#x00A0;<br /><span class="label"><a 
 id="x1-13004r4"></a></span>////////////////////////////////////&#x00A0;&#x00A0;//WH&#x00A0;symbols&#x00A0;pfgws_t&#x00A0;m_pget_winholdem_symbol;&#x00A0;////////////////////////////////////&#x00A0;<br /><span class="label"><a 
 id="x1-13005r5"></a></span>double&#x00A0;gws(int&#x00A0;chair,&#x00A0;const&#x00A0;char<span 
class="cmsy-10">*</span>&#x00A0;name,&#x00A0;bool&amp;&#x00A0;iserr){&#x00A0;return&#x00A0;(<span 
class="cmsy-10">*</span>m_pget_winholdem_symbol)(chair,name,iserr);&#x00A0;&#x00A0;}&#x00A0;<br /><span class="label"><a 
 id="x1-13006r6"></a></span>double&#x00A0;gws(const&#x00A0;char<span 
class="cmsy-10">*</span>&#x00A0;name){&#x00A0;bool&#x00A0;iserr;&#x00A0;&#x00A0;&#x00A0;int&#x00A0;mychair&#x00A0;=&#x00A0;(int)gws(0,"userchair",iserr);&#x00A0;&#x00A0;&#x00A0;return&#x00A0;gws(mychair,name,iserr);&#x00A0;&#x00A0;}&#x00A0;<br /><span class="label"><a 
 id="x1-13007r7"></a></span>bool&#x00A0;hlset(&#x00A0;int&#x00A0;rank0,&#x00A0;int&#x00A0;rank1,&#x00A0;int&#x00A0;listnum,&#x00A0;bool&#x00A0;onoff&#x00A0;){&#x00A0;&#x00A0;&#x00A0;&#x00A0;return&#x00A0;((<span 
class="cmsy-10">*</span>m_phl1k)[listnum][rank0<span 
class="cmsy-10">-</span>2][rank1<span 
class="cmsy-10">-</span>2]&#x00A0;=&#x00A0;onoff);&#x00A0;}&#x00A0;<br /><span class="label"><a 
 id="x1-13008r8"></a></span>bool&#x00A0;hlget(&#x00A0;int&#x00A0;rank0,&#x00A0;int&#x00A0;rank1,&#x00A0;int&#x00A0;listnum&#x00A0;){&#x00A0;&#x00A0;&#x00A0;&#x00A0;return&#x00A0;((<span 
class="cmsy-10">*</span>m_phl1k)[listnum][rank0<span 
class="cmsy-10">-</span>2][rank1<span 
class="cmsy-10">-</span>2]);&#x00A0;}
           </div>
           </li>
        <li class="itemize">Cut / paste the code above from the "OH-DLL.cpp" file to the "OH-general.h"
        header file.
           </li>
        <li class="itemize">We will also need another include now, its a standart library of c++, wich
        contains a datatype called bitset.
           </li>
        <li class="itemize">The bitset datatype converts integer values to their binary representation, we
        will need this because we are going to work with "srankbits".
           </li>
        <li class="itemize">You can read more about how rankbit values are obtained in the chapter about
        OpenHoldem symbols; look at the very bottom of the page.

           </li>
        <li class="itemize">You can find documentation on the C++ library here:
        <a 
href="http://www.cppreference.com/wiki/stl/bitset/start" class="url" ><span 
class="ectt-1000">http://www.cppreference.com/wiki/stl/bitset/start</span></a>.</li></ul>
<!--l. 263--><p class="noindent" >After you&#8217;re done with cut-pasting add the "bitset" include and also "using namespace std;"
this is neccessary line, don&#8217;t think much about it, but the include would not
work without it. Your OH-DLL.cpp &#8220;#includes&#8221; section should look like this
now:
   <!--l. 270-->
   <div class="lstlisting" id="listing-12"><span class="label"><a 
 id="x1-13009r1"></a></span>#define&#x00A0;WHUSER_EXPORTS&#x00A0;<br /><span class="label"><a 
 id="x1-13010r2"></a></span>#include&#x00A0;"OH<span 
class="cmsy-10">-</span>DLL.h"&#x00A0;#include&#x00A0;&#x003C;windows.h&#x003E;&#x00A0;#include&#x00A0;&#x003C;bitset&#x003E;&#x00A0;<br /><span class="label"><a 
 id="x1-13011r3"></a></span>using&#x00A0;namespace&#x00A0;std;&#x00A0;<br /><span class="label"><a 
 id="x1-13012r4"></a></span>#include&#x00A0;"OH<span 
class="cmsy-10">-</span>general.h"
   </div>
<!--l. 278--><p class="indent" >   Now we can begin with the actual coding, in the next step open "OH-general.h" and
add the following code:
   <!--l. 282-->
   <div class="lstlisting" id="listing-13"><span class="label"><a 
 id="x1-13013r1"></a></span>int&#x00A0;srankhiplayer;&#x00A0;<br /><span class="label"><a 
 id="x1-13014r2"></a></span>int&#x00A0;srankbits;&#x00A0;<br /><span class="label"><a 
 id="x1-13015r3"></a></span>int&#x00A0;flushrank;
   </div>
   <!--l. 290-->
   <div class="lstlisting" id="listing-14"><span class="label"><a 
 id="x1-13016r1"></a></span>int&#x00A0;set_flush_rank(){&#x00A0;<br /><span class="label"><a 
 id="x1-13017r2"></a></span>bitset&#x003C;16&#x003E;&#x00A0;srb(&#x00A0;srankbits&#x00A0;);&#x00A0;<br /><span class="label"><a 
 id="x1-13018r3"></a></span>srb&#x00A0;=&#x00A0;(~srb&#x00A0;)&#x00A0;&#x003E;&#x003E;=&#x00A0;srankhiplayer;&#x00A0;<br /><span class="label"><a 
 id="x1-13019r4"></a></span>return&#x00A0;(int)srb.count();&#x00A0;&#x00A0;}
   </div>
<!--l. 298--><p class="indent" >   This function will determine the flush rank via some bitset operations, 1 = nutflush,
2 = 2nd nutflush, etc.
   <!--l. 302-->
   <div class="lstlisting" id="listing-15"><span class="label"><a 
 id="x1-13020r1"></a></span>void&#x00A0;int_oh_symbols(){&#x00A0;<br /><span class="label"><a 
 id="x1-13021r2"></a></span>&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;srankbits&#x00A0;=&#x00A0;(int)gws("srankbits");&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;srankhiplayer&#x00A0;=&#x00A0;(int)gws("srankhiplayer");&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;flushrank&#x00A0;=&#x00A0;set_flush_rank();&#x00A0;<br /><span class="label"><a 
 id="x1-13022r3"></a></span>}
   </div>
<!--l. 309--><p class="indent" >   This function will update the values each time a new state is scraped.
<!--l. 311--><p class="indent" >   You also need to modify the "OH-DLL.cpp" to include this new symbol:
   <!--l. 315-->
   <div class="lstlisting" id="listing-16"><span class="label"><a 
 id="x1-13023r1"></a></span>double&#x00A0;process_query(const&#x00A0;char<span 
class="cmsy-10">*</span>&#x00A0;pquery){&#x00A0;<br /><span class="label"><a 
 id="x1-13024r2"></a></span>&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;if(pquery==NULL)&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;return&#x00A0;0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;//example&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;if(strcmp(pquery,"dll$test")==0)&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;return&#x00A0;101;&#x00A0;&#x00A0;&#x00A0;if(strcmp(pquery,"dll$dealerchair")==0)&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;return&#x00A0;m_holdem_state[(m_ndx)&amp;0xff].m_dealer_chair;&#x00A0;&#x00A0;&#x00A0;if(strcmp(pquery,"dll$currentbet3")==0)&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;return&#x00A0;m_holdem_state[(m_ndx)&amp;0xff].m_player[3].m_currentbet;&#x00A0;if(strcmp(pquery,"dll$flushrank")==0)&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;return&#x00A0;flushrank;&#x00A0;<br /><span class="label"><a 
 id="x1-13025r3"></a></span>&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;return&#x00A0;0;&#x00A0;<br /><span class="label"><a 
 id="x1-13026r4"></a></span>}
   </div>
   <!--l. 324-->
   <div class="lstlisting" id="listing-17"><span class="label"><a 
 id="x1-13027r1"></a></span>double&#x00A0;process_state(holdem_state<span 
class="cmsy-10">*</span>&#x00A0;pstate){&#x00A0;<br /><span class="label"><a 
 id="x1-13028r2"></a></span>&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;if(pstate!=NULL){m_holdem_state[&#x00A0;(++m_ndx)&amp;0xff&#x00A0;]&#x00A0;=&#x00A0;<span 
class="cmsy-10">*</span>pstate;}&#x00A0;<br /><span class="label"><a 
 id="x1-13029r3"></a></span>&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;int_oh_symbols();&#x00A0;<br /><span class="label"><a 
 id="x1-13030r4"></a></span>&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;return&#x00A0;0;&#x00A0;<br /><span class="label"><a 
 id="x1-13031r5"></a></span>}
   </div>
<!--l. 333--><p class="indent" >   If all went well you can access the flush rank with "dll$flushrank" on formula level
now.  
</body></html> 



