<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"  
  "http://www.w3.org/TR/html4/loose.dtd">  
<html > 
<head><title></title> 
<meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1"> 
<meta name="generator" content="TeX4ht (http://www.cse.ohio-state.edu/~gurari/TeX4ht/)"> 
<meta name="originator" content="TeX4ht (http://www.cse.ohio-state.edu/~gurari/TeX4ht/)"> 
<!-- html --> 
<meta name="src" content="prwin_and_versus.tex"> 
<meta name="date" content="2010-04-12 05:15:00"> 
<link rel="stylesheet" type="text/css" href="prwin_and_versus.css"> 
</head><body bgcolor="#CCCCFF" 
>
   <h3 class="sectionHead"><a 
 id="x1-1000"></a>PrWin and Versus - Winning Probabilities</h3>
   <div class="tabular"> <table id="TBL-1" class="tabular" 
cellspacing="0" cellpadding="0" rules="groups" 
><colgroup id="TBL-1-1g"><col 
id="TBL-1-1"></colgroup><colgroup id="TBL-1-2g"><col 
id="TBL-1-2"></colgroup><colgroup id="TBL-1-3g"><col 
id="TBL-1-3"></colgroup><colgroup id="TBL-1-4g"><col 
id="TBL-1-4"></colgroup><colgroup id="TBL-1-5g"><col 
id="TBL-1-5"></colgroup><tr 
class="hline"><td><hr></td><td><hr></td><td><hr></td><td><hr></td><td><hr></td></tr><tr  
 style="vertical-align:baseline;" id="TBL-1-1-"><td  style="white-space:wrap; text-align:left;" id="TBL-1-1-1"  
class="td11"> <!--l. 40--><p class="noindent" >               </td><td  style="white-space:wrap; text-align:left;" id="TBL-1-1-2"  
class="td11"> <!--l. 40--><p class="noindent" >prwin                </td><td  style="white-space:wrap; text-align:left;" id="TBL-1-1-3"  
class="td11"> <!--l. 40--><p class="noindent" >versus               </td><td  style="white-space:wrap; text-align:left;" id="TBL-1-1-4"  
class="td11"> <!--l. 40--><p class="noindent" >weighted prwin   </td><td  style="white-space:wrap; text-align:left;" id="TBL-1-1-5"  
class="td11"> <!--l. 40--><p class="noindent" >enhanced prwin  </td>
</tr><tr 
class="hline"><td><hr></td><td><hr></td><td><hr></td><td><hr></td><td><hr></td></tr><tr 
class="hline"><td><hr></td><td><hr></td><td><hr></td><td><hr></td><td><hr></td></tr><tr  
 style="vertical-align:baseline;" id="TBL-1-2-"><td  style="white-space:wrap; text-align:left;" id="TBL-1-2-1"  
class="td11"> <!--l. 43--><p class="noindent" >preflop/postflop   </td><td  style="white-space:wrap; text-align:left;" id="TBL-1-2-2"  
class="td11"> <!--l. 43--><p class="noindent" >both                 </td><td  style="white-space:wrap; text-align:left;" id="TBL-1-2-3"  
class="td11"> <!--l. 43--><p class="noindent" >both                 </td><td  style="white-space:wrap; text-align:left;" id="TBL-1-2-4"  
class="td11"> <!--l. 43--><p class="noindent" >both                 </td><td  style="white-space:wrap; text-align:left;" id="TBL-1-2-5"  
class="td11"> <!--l. 43--><p class="noindent" >both                 </td>
</tr><tr 
class="hline"><td><hr></td><td><hr></td><td><hr></td><td><hr></td><td><hr></td></tr><tr  
 style="vertical-align:baseline;" id="TBL-1-3-"><td  style="white-space:wrap; text-align:left;" id="TBL-1-3-1"  
class="td11"> <!--l. 45--><p class="noindent" >accuracy             </td><td  style="white-space:wrap; text-align:left;" id="TBL-1-3-2"  
class="td11"> <!--l. 45--><p class="noindent" >depends on NIT
  <!--l. 47--><p class="noindent" >(number of
  iterations)          </td><td  style="white-space:wrap; text-align:left;" id="TBL-1-3-3"  
class="td11"> <!--l. 47--><p class="noindent" >100% exact        </td><td  style="white-space:wrap; text-align:left;" id="TBL-1-3-4"  
class="td11"> <!--l. 47--><p class="noindent" >depends on NIT  </td><td  style="white-space:wrap; text-align:left;" id="TBL-1-3-5"  
class="td11"> <!--l. 47--><p class="noindent" >depends on NIT  </td>
</tr><tr 
class="hline"><td><hr></td><td><hr></td><td><hr></td><td><hr></td><td><hr></td></tr><tr  
 style="vertical-align:baseline;" id="TBL-1-4-"><td  style="white-space:wrap; text-align:left;" id="TBL-1-4-1"  
class="td11"> <!--l. 49--><p class="noindent" >speed                 </td><td  style="white-space:wrap; text-align:left;" id="TBL-1-4-2"  
class="td11"> <!--l. 49--><p class="noindent" >depends on NIT  </td><td  style="white-space:wrap; text-align:left;" id="TBL-1-4-3"  
class="td11"> <!--l. 49--><p class="noindent" >superfast
  (precomputed
  table)               </td><td  style="white-space:wrap; text-align:left;" id="TBL-1-4-4"  
class="td11"> <!--l. 49--><p class="noindent" >depends on NIT  </td><td  style="white-space:wrap; text-align:left;" id="TBL-1-4-5"  
class="td11"> <!--l. 49--><p class="noindent" >depends on NIT  </td>
</tr><tr 
class="hline"><td><hr></td><td><hr></td><td><hr></td><td><hr></td><td><hr></td></tr><tr  
 style="vertical-align:baseline;" id="TBL-1-5-"><td  style="white-space:wrap; text-align:left;" id="TBL-1-5-1"  
class="td11"> <!--l. 51--><p class="noindent" >handranges         </td><td  style="white-space:wrap; text-align:left;" id="TBL-1-5-2"  
class="td11"> <!--l. 51--><p class="noindent" >random only
  <!--l. 53--><p class="noindent" >(100% range)      </td><td  style="white-space:wrap; text-align:left;" id="TBL-1-5-3"  
class="td11"> <!--l. 53--><p class="noindent" >arbitrary
  handlists,
  <!--l. 55--><p class="noindent" >but usually
  fixed                 </td><td  style="white-space:wrap; text-align:left;" id="TBL-1-5-4"  
class="td11"> <!--l. 55--><p class="noindent" >userdefined
  range, but
  simplified model  </td><td  style="white-space:wrap; text-align:left;" id="TBL-1-5-5"  
class="td11"> <!--l. 55--><p class="noindent" >arbitrary
  handrange,
  <!--l. 57--><p class="noindent" >userdefined        </td>
</tr><tr 
class="hline"><td><hr></td><td><hr></td><td><hr></td><td><hr></td><td><hr></td></tr><tr  
 style="vertical-align:baseline;" id="TBL-1-6-"><td  style="white-space:wrap; text-align:left;" id="TBL-1-6-1"  
class="td11"> <!--l. 59--><p class="noindent" >opponnents         </td><td  style="white-space:wrap; text-align:left;" id="TBL-1-6-2"  
class="td11"> <!--l. 59--><p class="noindent" >1-22, using f$P   </td><td  style="white-space:wrap; text-align:left;" id="TBL-1-6-3"  
class="td11"> <!--l. 59--><p class="noindent" >1                      </td><td  style="white-space:wrap; text-align:left;" id="TBL-1-6-4"  
class="td11"> <!--l. 59--><p class="noindent" >1-13, using f$P
  (weighted prwin
  will be disabled,
  if f$P&#x00A0;&#x003E;&#x00A0;13.)     </td><td  style="white-space:wrap; text-align:left;" id="TBL-1-6-5"  
class="td11"> <!--l. 59--><p class="noindent" >1-13, using
  nopponentsplaying </td>
</tr><tr 
class="hline"><td><hr></td><td><hr></td><td><hr></td><td><hr></td><td><hr></td></tr><tr  
 style="vertical-align:baseline;" id="TBL-1-7-"><td  style="white-space:wrap; text-align:left;" id="TBL-1-7-1"  
class="td11"> <!--l. 61--><p class="noindent" >formula / DLL
  / Perl                </td><td  style="white-space:wrap; text-align:left;" id="TBL-1-7-2"  
class="td11"> <!--l. 61--><p class="noindent" >all                    </td><td  style="white-space:wrap; text-align:left;" id="TBL-1-7-3"  
class="td11"> <!--l. 61--><p class="noindent" >all                    </td><td  style="white-space:wrap; text-align:left;" id="TBL-1-7-4"  
class="td11"> <!--l. 61--><p class="noindent" >all                    </td><td  style="white-space:wrap; text-align:left;" id="TBL-1-7-5"  
class="td11"> <!--l. 61--><p class="noindent" >DLL only          </td>
</tr><tr 
class="hline"><td><hr></td><td><hr></td><td><hr></td><td><hr></td><td><hr></td></tr><tr  
 style="vertical-align:baseline;" id="TBL-1-8-"><td  style="white-space:wrap; text-align:left;" id="TBL-1-8-1"  
class="td11">                </td> </tr></table></div>
   <h4 class="subsectionHead"><a 
 id="x1-2000"></a>Standard PrWin</h4>
<!--l. 68--><p class="noindent" >Standard PrWin was the first way to calculate winning probabilities with WinHoldem.
Just like so many other features of WinHoldem it is based on an oversimplified model,
assuming a 100% range for all opponents, i.e. just random cards, no matter
what.
<!--l. 73--><p class="indent" >   This method has an obvious drawback: the calculated winning-percentages are way
too optimistic.
<!--l. 76--><p class="indent" >   Instead of improving that basic model a rude workaround got introduce: f$P, a
function to adapt the number of opponents considered by the PrWin-Iterator. So instead
of modelling hand-ranges for your opponents depending on the texture of the boards and
the bettinglevel you had to do some guesswork about how many opponents to add to get
the same numbers.
   <div class="newtheorem">
<!--l. 82--><p class="noindent" ><span class="head">
<a 
 id="x1-2001r1"></a>
  <span 
class="eccc-1000">R<span 
class="small-caps">E</span><span 
class="small-caps">M</span><span 
class="small-caps">A</span><span 
class="small-caps">R</span><span 
class="small-caps">K</span> </span>1<span 
class="eccc-1000">.</span>  </span>For an explanation about the required number of iterations see
the chapter &#8221;Iterations and Standard Deviation&#8221;. But as a rule of thumb 10.000 to
100.000 should give you reasonable numbers.
   </div>
   <h4 class="subsectionHead"><a 
 id="x1-3000"></a>Versus </h4>
<!--l. 90--><p class="noindent" >Versus is a capability introduced into WinHoldem in 2005 (and implemented in OH from
startup) which allowes the user to assess his probability of winning against
a single opponent with a specified handlist. It does use large pre-computed
tables and the result is substantially obtained by table lookup rather than the

Monte Carlo iteration used for Prwin. It is much faster than Prwin, and the
user can weight the result by selecting a suitable handlist for the opponent. It
is thus a powerful tool for calculating good win probability against a single
opponent.
<!--l. 100--><p class="indent" >   Against multiple opponents its utility is much reduced, since the existence of the
same cards in different opponent handlists is not allowed for the versus calculation, and
combining the results from several independent versus assessments creates an
increasingly inaccurate estimate as the number of opponents increases. A proposed
Versus2 which could handle multiple opponents accurately has not yet been released,
since it requires several gigabytes of lookup table.
   <h4 class="subsectionHead"><a 
 id="x1-4000"></a>Weighted PrWin</h4>
<!--l. 111--><p class="noindent" >Weighted Prwin does work similar to Standard PrWin, but enables you to model
opponents handranges. It got developed by Matrix as part of his DLL and then
contributed to OpenHoldem.
<!--l. 116--><p class="indent" >   <hr class="figure"><div class="figure" 
>

<a 
 id="x1-40011"></a>

<!--l. 117--><p class="noindent" ><img 
src="prwin_and_versus0x.png" alt="PIC" class="graphics"   ><!--tex4ht:graphics  
name="prwin_and_versus0x.png" src="0E__Dokumente_und_Einstellungen_Development_Des___s_oh_script_explained_Images_weighted_prwin.eps"  
-->
<br /> <div class="caption" 
><span class="id">Figure&#x00A0;0.0.1: </span><span  
class="content">Weighted PrWin</span></div><!--tex4ht:label?: x1-40011 -->

<!--l. 121--><p class="indent" >   </div><hr class="endfigure">
<!--l. 124--><p class="indent" >   The hand-range of your opponent gets described by four parameters, each specifying
a handrank169-value:
           <ul class="itemize1">
        <li class="itemize">f$mustplay: absolute premium-hands, that will never be folded by your
        opponent, even if the betting-action does not indicate a monstre-hand. If
        you are dead-sure, that your opponent doesn&#8217;t slowplay aces, you can set
        f$mustplay to zero.
           </li>
        <li class="itemize">f$topclip: the top of your opponents range, which will be played with
        certainty. Cards between f$topclip and f$mustplay will also be included,
        but with reduced probability.
           </li>
        <li class="itemize">f$willplay: the bottom of your opponents range, which will be played with
        certainty.
           </li>
        <li class="itemize">f$wontplay: the border to pure trash. Hands rated lower will never be
        played by your opponent. Hands between f$willplay and f$wontplay will
        be included in his range, but with reduced probability.</li></ul>
<!--l. 140--><p class="noindent" >Ideally you would base the calculations of these points on the statistics for opponent betting
pre-flop at various bet levels. This information is not currently available from
OH (unless you use the PokerTracker capabilities), but the single most useful
statistic, SingleMalt&#8217;s floppct, can be used. Using this to set f$willplay and
f$wontplay gives the major advantage which a weighted prwin gives; the elimination
of rags from the iterator calculations. A starting point might be something
like:
   <!--l. 150-->
   <div class="lstlisting" id="listing-1"><span class="label"><a 
 id="x1-4002r1"></a></span>##f$willplay##&#x00A0;<br /><span class="label"><a 
 id="x1-4003r2"></a></span>handsplayed&#x003C;10?72:180<span 
class="cmsy-10">*</span>floppct&#x00A0;<br /><span class="label"><a 
 id="x1-4004r3"></a></span>&#x00A0;<br /><span class="label"><a 
 id="x1-4005r4"></a></span>##f$wontplay##&#x00A0;<br /><span class="label"><a 
 id="x1-4006r5"></a></span>f$willplay<span 
class="cmsy-10">*</span>1.4
   </div>
<!--l. 159--><p class="indent" >   Weighted PrWin will fall back to Standard PrWin, when the parameters provided
are unusable, e.g.
           <ul class="itemize1">
        <li class="itemize">if f$willplay is absent, or returns zero.
           </li>
        <li class="itemize">if f$P is greater than 13.</li></ul>
<!--l. 165--><p class="noindent" >The calculation will furthermore not weight the cards for an opponent who is BB and has
limped into the flop. f$willplay will be increased internally if it is so low that
the iterator cannot assign cards for all opponents from the available matching
hands.
<!--l. 170--><p class="indent" >   Weighted PrWin gives far better results than Standard PrWin, but the ability to
specify handranges is still somewhat limited due to the ordering of hands according to
their handrank-value. It is e.g. a bit hard to model playing tendencies or the
preference for hands with low equity but good playability, like low pairs and suited
connectors.
<!--l. 176--><p class="indent" >   Furthermore the same range will be assumed for all opponents in the hand.
   <div class="newtheorem">

<!--l. 178--><p class="noindent" ><span class="head">
<a 
 id="x1-4007r2"></a>
  <span 
class="eccc-1000">R<span 
class="small-caps">E</span><span 
class="small-caps">M</span><span 
class="small-caps">A</span><span 
class="small-caps">R</span><span 
class="small-caps">K</span> </span>2<span 
class="eccc-1000">.</span>  </span>As the hand-ranges are more concrete than for Standard PrWEin
f$P should obviously return the correct number of opponents in the hand.
   </div>
   <h4 class="subsectionHead"><a 
 id="x1-5000"></a>Enhanced PrWin</h4>
<!--l. 185--><p class="noindent" >To overcome that limitations Enhanced PrWin got developed (again by Matrix).
Enhanced PrWin does allow you to specify a probability for every single hand and thus
gives you exact winning probabilities (provided you model the hand-ranges correctly).
However &#8212; this mightiness causes some complexity and some labour. Advanced
opponent modelling and calculating probabilities for every single hand is too
complex for OH-script. Therefore this features is only available at the DLL-level
and gets described in more detail in the chapter about DLL-programming.
 
</body></html> 



