<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3c.org/TR/1999/REC-html401-19991224/loose.dtd">
<!-- saved from url=(0229)http://webcache.googleusercontent.com/search -->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><HTML><HEAD>
<META content="text/html; charset=UTF-8" http-equiv="Content-Type">
<META name="GENERATOR" content="MSHTML 9.00.8112.16476"></HEAD>
<BODY class="mediawiki ns-0 ltr page-Weighted_Prwin">
<DIV style="background: rgb(255, 255, 255); margin: -1px -1px 0px; padding: 0px; border: 1px solid rgb(153, 153, 153);">
<DIV style="background: rgb(221, 221, 221); font: 13px/normal arial, sans-serif; margin: 12px; padding: 8px; border: 1px solid rgb(153, 153, 153); text-align: left; color: rgb(0, 0, 0); font-size-adjust: none; font-stretch: normal;">This 
is Google's cache of <A style="color: rgb(0, 0, 204); text-decoration: underline;" 
href="http://www.maxinmontreal.com/wiki/index.php5?title=Weighted_Prwin&amp;redirect=no">http://www.maxinmontreal.com/wiki/index.php5?title=Weighted_Prwin&amp;redirect=no</A>. 
It is a snapshot of the page as it appeared on Mar 6, 2013 03:43:09 GMT. The <A 
style="color: rgb(0, 0, 204); text-decoration: underline;" href="http://www.maxinmontreal.com/wiki/index.php5?title=Weighted_Prwin&amp;redirect=no">current 
page</A> could have changed in the meantime. <A style="color: rgb(0, 0, 204); text-decoration: underline;" 
href="http://support.google.com/websearch/bin/answer.py?hl=en&amp;p=cached&amp;answer=1687222">Learn 
more</A><BR>Tip: To quickly find your search term on this page, press 
<B>Ctrl+F</B> or <B>⌘-F</B> (Mac) and use the find bar.<BR><BR>
<DIV style="float: right;"><A style="color: rgb(0, 0, 204); text-decoration: underline;" 
href="http://webcache.googleusercontent.com/search?q=cache:LjIoBPdKyeAJ:www.maxinmontreal.com/wiki/index.php5%3Ftitle%3DWeighted_Prwin%26redirect%3Dno+http://www.maxinmontreal.com/wiki/index.php5/Weighted_Prwin&amp;hl=en&amp;gl=us&amp;strip=1">Text-only 
version</A></DIV>
<DIV>&nbsp;</DIV></DIV></DIV>
<DIV style="position: relative;">
<META name="keywords" content="Weighted Prwin,Enhanced Prwin,OpenHoldem:EndUserDocumentation:Symbols,Prwin,P factor"><LINK 
rel="shortcut icon" href="/favicon.ico"><LINK title="Maxin Wiki (English)" rel="search" 
type="application/opensearchdescription+xml" 
href="/wiki/opensearch_desc.php"><TITLE>Weighted Prwin - Maxin Wiki</TITLE>
<STYLE type="text/css" media="screen, projection">/*<![CDATA[*/
			@import "/wiki/skins/common/shared.css?97";
			@import "/wiki/skins/monobook/main.css?97";
		/*]]>*/</STYLE>
<LINK rel="stylesheet" type="text/css" href="weighted%20Prwin_files/commonPrint.css" 
media="print"><!--[if lt IE 5.5000]><style type="text/css">@import "/wiki/skins/monobook/IE50Fixes.css?97";</style><![endif]--><!--[if IE 5.5000]><style type="text/css">@import "/wiki/skins/monobook/IE55Fixes.css?97";</style><![endif]--><!--[if IE 6]><style type="text/css">@import "/wiki/skins/monobook/IE60Fixes.css?97";</style><![endif]--><!--[if IE 7]><style type="text/css">@import "/wiki/skins/monobook/IE70Fixes.css?97";</style><![endif]--><!--[if lt IE 7]><script type="text/javascript" src="/wiki/skins/common/IEFixes.js?97"></script>
		<meta http-equiv="imagetoolbar" content="no" /><![endif]-->
<SCRIPT type="text/javascript">/*<![CDATA[*/
var skin = "monobook";
var stylepath = "/wiki/skins";
var wgArticlePath = "/wiki/index.php5/$1";
var wgScriptPath = "/wiki";
var wgScript = "/wiki/index.php5";
var wgServer = "http://www.maxinmontreal.com";
var wgCanonicalNamespace = "";
var wgCanonicalSpecialPageName = false;
var wgNamespaceNumber = 0;
var wgPageName = "Weighted_Prwin";
var wgTitle = "Weighted Prwin";
var wgAction = "view";
var wgRestrictionEdit = [];
var wgRestrictionMove = [];
var wgArticleId = "88";
var wgIsArticle = true;
var wgUserName = null;
var wgUserGroups = null;
var wgUserLanguage = "en";
var wgContentLanguage = "en";
var wgBreakFrames = false;
var wgCurRevisionId = "108260";
/*]]>*/</SCRIPT>

<SCRIPT type="text/javascript" src="weighted%20Prwin_files/wikibits.js"><!-- wikibits js --></SCRIPT>

<SCRIPT type="text/javascript" src=""><!-- site js --></SCRIPT>

<STYLE type="text/css">/*<![CDATA[*/
@import "/wiki/index.php5?title=MediaWiki:Common.css&usemsgcache=yes&action=raw&ctype=text/css&smaxage=18000";
@import "/wiki/index.php5?title=MediaWiki:Monobook.css&usemsgcache=yes&action=raw&ctype=text/css&smaxage=18000";
@import "/wiki/index.php5?title=-&action=raw&gen=css&maxage=18000";
/*]]>*/</STYLE>
<!-- Head Scripts -->
<SCRIPT type="text/javascript" src="weighted%20Prwin_files/ajax.js"></SCRIPT>

<DIV id="globalWrapper">
<DIV id="column-content">
<DIV id="content"><A id="top" name="top"></A>
<H1 class="firstHeading">Weighted Prwin</H1>
<DIV id="bodyContent">
<H3 id="siteSub">From Maxin Wiki</H3>
<DIV id="contentSub"></DIV>
<DIV id="jump-to-nav">Jump to: <A href="http://www.maxinmontreal.com/wiki/index.php5?title=Weighted_Prwin&amp;redirect=no#column-one">navigation</A>, 
<A href="http://www.maxinmontreal.com/wiki/index.php5?title=Weighted_Prwin&amp;redirect=no#searchInput">search</A></DIV><!-- start content -->
<P>A weighted <A title="Prwin" href="http://www.maxinmontreal.com/wiki/index.php5/Prwin">prwin</A> 
is one which is calculated by making informed selections of the cards opponents 
are likely to hold, and using these in the calculation of your win probability. 
Factors which can be used to make inferences about cards include willingness to 
pay to see flop, betting behaviour when faced by common cards, and historical 
information about opponent behaviour. Essentially it aims to put your opponents 
on cards as accurately as possible.</P>
<P><BR></P><A name="Openholdem_Prwin"></A>
<H2><SPAN class="editsection">[<A title="Edit section: Openholdem Prwin" href="http://www.maxinmontreal.com/wiki/index.php5?title=Weighted_Prwin&amp;action=edit&amp;section=1">edit</A>]</SPAN> 
<SPAN class="mw-headline"> Openholdem Prwin </SPAN></H2>
<P>This has been implemented as of build 1.6.0. It is based on a fairly simple 
model using pre-flop behaviour. For dll coders OH 1.9.0 and above also allow the 
use of <A title="Enhanced Prwin" href="http://www.maxinmontreal.com/wiki/index.php5/Enhanced_Prwin">Enhanced 
Prwin</A>.</P>
<P><A class="image" title="Image:prwin.jpg" href="http://www.maxinmontreal.com/wiki/index.php5/Image:Prwin.jpg"><IMG 
border="0" alt="Image:prwin.jpg" src="weighted%20Prwin_files/Prwin.jpg" width="422" 
height="243"></A></P>
<P>User-defined functions in a .whx file return the following values, <A class="external free" 
title="http://www.outlet4louboutin.com/" href="http://www.outlet4louboutin.com/" 
rel="nofollow">http://www.outlet4louboutin.com/</A> expressed as handrank169 
values (see <A title="OpenHoldem:EndUserDocumentation:Symbols" href="http://www.maxinmontreal.com/wiki/index.php5/OpenHoldem:EndUserDocumentation:Symbols">OpenHoldem:EndUserDocumentation:Symbols</A>)
</P>
<P><B>f$mustplay</B> - opponents holding cards better than this are assumed 
always to play them. This allows for the situation where opponents slowplay the 
strongest hands in the hope of milking more from the pot with them.</P>
<P><B>f$topclip</B> - indicates that hands better than this are less likely to 
be played, since the betting level is too low.</P>
<P><B>f$willplay</B> - hands better than this will be played.</P>
<P><B>f$wontplay</B> - hands worse than this are highly unlikely to be played.
</P>
<P>The success in using a model of this sort depends on the data available to 
allow the formula coder to devise appropriate expressions for the f$functions 
outlined above. Currently in OH the most accessible is floppct - the percentage 
of opponents seeing the flop averaged over a user definable period. This is a 
reasonably accurate expression of the strength of cards which opponents are 
prepared to play. An example of its use could be:</P>
<P><B>f$willplay</B> 
 handsplayed&lt;10?72:(180*floppct)&gt;(nopponents*2+1)?180*floppct:nopponents*2+1
</P>
<P><B>f$wontplay</B>  f$willplay*1.4</P>
<P><I>Note: As identified in the forum thread <A class="external autonumber" 
title="http://www.maxinmontreal.com/forums/viewtopic.php?f=156&amp;t=6543" href="http://www.maxinmontreal.com/forums/viewtopic.php?f=156&amp;t=6543" 
rel="nofollow">[1]</A> OH up to and including 1.9.5 has code to protect the 
iterator from a value of f$willplay which is too low to allow hands to be 
assigned to each opponent, but omits the matching code for f$wontplay, which 
could cause the iterator to lock up. The protection factor in OH is also too low 
for some theoretically possible situations to be resolved in a reasonable time. 
The sample formula above protects against these. If f$willplay evaluates to zero 
prwin weighting will be turned off. f$wontplay should not be less f$willplay</I>
</P>
<P>Although this is primitive it gives the single greatest advantage of using a 
weighted prwin rather than an unweighted one; it eliminates the cards which 
opponents are unlikely to invest any money in from the calculation. Since it 
depends on statistical information a constant value is given until floppct has 
had time to establish itself. The '180' is because 90 is the midpoint of 
handrank169 at which the number of hands above and below are the same (the 
stronger hands tend to have fewer possible examples). </P>
<P>Ideally the calculation should be based on betting averages at different 
levels, since it is what opponents are prepared to pay that determines the 
probable strength of their hand, and should be recorded on an opponent (and even 
position) basis. The problem with more refined data accumulation is that it 
takes an increasing number of hands to gain significance, and is sensitive to 
changes in playing conditions, such as the number of players, which can alter 
opponent behaviour. Nevertheless statistics of this sort have been used 
successfully in other bots based on a weighted prwin, and may be available from 
OH in the future.</P>
<P>The OH weighted prwin uses a handrank169 table which is based on published 
data about hands players actually take to flop, and varies from conventional 
ones giving win probabilities, particularly in the way it favours suited hands! 
In the absence of statistical support it is not recommended that you implement 
f$topclip or f$mustplay unless you have a good picture of the standard of play 
at a table.</P>
<P>If f$willplay is absent, or returns a zero value, the prwin weighting is 
turned off. It will also be turned off if your f$P specifies more than 13 
opponents. If your opponents at flop include a BB who has not been raised, no 
weighting will be applied to his hand, since no assumptions can be made about 
it.</P>
<P>You may need to change your f$P if using weighted prwin. <A class="new" 
title="P factor" href="http://www.maxinmontreal.com/wiki/index.php5?title=P_factor&amp;action=edit">P 
factor</A> is a kludge to compensate for the fact that opponents who fold have 
weaker hands. Prwin weighting allows for this, and therefore a prwin bot is best 
coded by calculating using the actual number of opponents playing. A suggestion 
for an f$P, if you use prwin pre-flop, could be:</P><PRE>(nopponentsplaying==0)&nbsp;? 0&nbsp;: //zero if no opponents
 (br&gt;1)? nopponentsplaying&nbsp;: //just use actual opponents post-flop
  (handsplayed&lt;10)? nopponentsplaying&nbsp;: //fallback until floppct becomes reliable
   (nopponentscalling+nopponentsraising+nopponentschecking*floppct+0.49)&lt;1&nbsp;? 1&nbsp;: //this should never happen, but .....
    nopponentscalling+nopponentsraising+nopponentschecking*floppct+0.49 //make an estimate for opponents who have still to act
</PRE>
<P>This attempts to estimate the number of opponents you are likely to face when 
you act pre-flop, and is most significant when you are in early position. Whilst 
the principle works that actual formulation has not been tested!</P>
<P>As of build 1.8.3 OH also offers dll coders <A title="Enhanced Prwin" href="http://www.maxinmontreal.com/wiki/index.php5/Enhanced_Prwin">Enhanced 
Prwin</A></P>
<P><BR></P><A name="Dynamic_Use"></A>
<H2><SPAN class="editsection">[<A title="Edit section: Dynamic Use" href="http://www.maxinmontreal.com/wiki/index.php5?title=Weighted_Prwin&amp;action=edit&amp;section=2">edit</A>]</SPAN> 
<SPAN class="mw-headline"> Dynamic Use </SPAN></H2>
<P>Although really intended to provide weighting based on pre-flop behaviour, 
changes in the return values of the 'f$' functions which control prwin weighting 
will be applied the next time prwin is calculated by OH. If working from formula 
alone the re-calculation will occur when there is a change in the game state, so 
any changes you make may not be reflected immediately in the value of prwin 
unless you can trick OH into making a fresh calculation.</P><!-- Saved in parser cache with key maxin_wiki:pcache:idhash:88-0!1!0!!en!2 and timestamp 20130113120725 -->
<DIV class="printfooter">Retrieved from "<A href="http://www.maxinmontreal.com/wiki/index.php5/Weighted_Prwin">http://www.maxinmontreal.com/wiki/index.php5/Weighted_Prwin</A>"</DIV><!-- end content -->
<DIV class="visualClear"></DIV></DIV></DIV></DIV>
<DIV id="column-one">
<DIV id="p-cactions" class="portlet">
<H5>Views</H5>
<DIV class="pBody">
<UL>
  <LI id="ca-nstab-main" class="selected"><A accessKey="c" title="View the content page [c]" 
  href="http://www.maxinmontreal.com/wiki/index.php5/Weighted_Prwin">Article</A></LI>
  <LI id="ca-talk"><A accessKey="t" title="Discussion about the content page [t]" 
  href="http://www.maxinmontreal.com/wiki/index.php5/Talk:Weighted_Prwin">Discussion</A></LI>
  <LI id="ca-edit"><A accessKey="e" title="You can edit this page. Please use the preview button before saving. [e]" 
  href="http://www.maxinmontreal.com/wiki/index.php5?title=Weighted_Prwin&amp;action=edit">Edit</A></LI>
  <LI id="ca-history"><A accessKey="h" title="Past versions of this page. [h]" 
  href="http://www.maxinmontreal.com/wiki/index.php5?title=Weighted_Prwin&amp;action=history">History</A></LI></UL></DIV></DIV>
<DIV id="p-personal" class="portlet">
<H5>Personal tools</H5>
<DIV class="pBody">
<UL>
  <LI id="pt-login"><A accessKey="o" title="You are encouraged to log in, it is not mandatory however. [o]" 
  href="http://www.maxinmontreal.com/wiki/index.php5?title=Special:Userlogin&amp;returnto=Weighted_Prwin">Log 
  in / create account</A></LI></UL></DIV></DIV>
<DIV id="p-logo" class="portlet"><A style='background-image: url("/wiki/skins/common/images/wiki.png");' 
href="http://www.maxinmontreal.com/"></A></DIV>
<SCRIPT type="text/javascript"> if (window.isMSIE55) fixalpha(); </SCRIPT>

<DIV id="p-navigation" class="portlet">
<H5>Navigation</H5>
<DIV class="pBody">
<UL>
  <LI id="n-mainpage"><A accessKey="z" title="Visit the Main Page [z]" href="http://www.maxinmontreal.com/wiki/index.php5/Main_Page">Main 
  Page</A></LI>
  <LI id="n-portal"><A title="About the project, what you can do, where to find things" 
  href="http://www.maxinmontreal.com/wiki/index.php5/Maxin_Wiki:Community_Portal">Community 
  portal</A></LI>
  <LI id="n-currentevents"><A title="Find background information on current events" 
  href="http://www.maxinmontreal.com/wiki/index.php5/Current_events">Current 
  events</A></LI>
  <LI id="n-recentchanges"><A accessKey="r" title="The list of recent changes in the wiki. [r]" 
  href="http://www.maxinmontreal.com/wiki/index.php5/Special:Recentchanges">Recent 
  changes</A></LI>
  <LI id="n-randompage"><A accessKey="x" title="Load a random page [x]" href="http://www.maxinmontreal.com/wiki/index.php5/Special:Random">Random 
  page</A></LI>
  <LI id="n-help"><A title="The place to find out." href="http://www.maxinmontreal.com/wiki/index.php5/Help:Contents">Help</A></LI>
  <LI id="n-sitesupport"><A title="Support us" href="http://www.maxinmontreal.com/wiki/index.php5/Maxin_Wiki:Site_support">Donations</A></LI></UL></DIV></DIV>
<DIV id="p-search" class="portlet">
<H5><LABEL for="searchInput">Search</LABEL></H5>
<DIV id="searchBody" class="pBody">
<FORM id="searchform" action="/wiki/index.php5/Special:Search">
<DIV><INPUT accessKey="f" id="searchInput" title="Search Maxin Wiki [f]" name="search" 
type="text"><INPUT id="searchGoButton" class="searchButton" name="go" value="Go" type="submit">&nbsp;
				<INPUT id="mw-searchButton" class="searchButton" name="fulltext" value="Search" type="submit"></DIV></FORM></DIV></DIV>
<DIV id="p-tb" class="portlet">
<H5>Toolbox</H5>
<DIV class="pBody">
<UL>
  <LI id="t-whatlinkshere"><A accessKey="j" title="List of all wiki pages that link here [j]" 
  href="http://www.maxinmontreal.com/wiki/index.php5/Special:Whatlinkshere/Weighted_Prwin">What 
  links here</A></LI>
  <LI id="t-recentchangeslinked"><A accessKey="k" title="Recent changes in pages linked from this page [k]" 
  href="http://www.maxinmontreal.com/wiki/index.php5/Special:Recentchangeslinked/Weighted_Prwin">Related 
  changes</A></LI>
  <LI id="t-upload"><A accessKey="u" title="Upload images or media files [u]" 
  href="http://www.maxinmontreal.com/wiki/index.php5/Special:Upload">Upload 
  file</A></LI>
  <LI id="t-specialpages"><A accessKey="q" title="List of all special pages [q]" 
  href="http://www.maxinmontreal.com/wiki/index.php5/Special:Specialpages">Special 
  pages</A></LI>
  <LI id="t-print"><A accessKey="p" title="Printable version of this page [p]" 
  href="http://www.maxinmontreal.com/wiki/index.php5?title=Weighted_Prwin&amp;redirect=no&amp;printable=yes">Printable 
  version</A></LI>
  <LI id="t-permalink"><A title="Permanent link to this version of the page" 
  href="http://www.maxinmontreal.com/wiki/index.php5?title=Weighted_Prwin&amp;oldid=108260">Permanent 
  link</A></LI></UL></DIV></DIV></DIV><!-- end of the left (by default at least) column -->
<DIV class="visualClear"></DIV>
<DIV id="footer">
<DIV id="f-poweredbyico"><A href="http://www.mediawiki.org/"><IMG alt="Powered by MediaWiki" 
src="weighted%20Prwin_files/poweredby_mediawiki_88x31.png"></A></DIV>
<UL id="f-list">
  <LI id="lastmod"> This page was last modified 07:07, 22 November 2012.</LI>
  <LI id="viewcount">This page has been accessed 2,994 times.</LI>
  <LI id="privacy"><A title="Maxin Wiki:Privacy policy" href="http://www.maxinmontreal.com/wiki/index.php5/Maxin_Wiki:Privacy_policy">Privacy 
  policy</A></LI>
  <LI id="about"><A title="Maxin Wiki:About" href="http://www.maxinmontreal.com/wiki/index.php5/Maxin_Wiki:About">About 
  Maxin Wiki</A></LI>
  <LI id="disclaimer"><A title="Maxin Wiki:General disclaimer" href="http://www.maxinmontreal.com/wiki/index.php5/Maxin_Wiki:General_disclaimer">Disclaimers</A></LI></UL></DIV>
<SCRIPT type="text/javascript">if (window.runOnloadHook) runOnloadHook();</SCRIPT>
</DIV><!-- Served in 0.091 secs. --></DIV></BODY></HTML>
