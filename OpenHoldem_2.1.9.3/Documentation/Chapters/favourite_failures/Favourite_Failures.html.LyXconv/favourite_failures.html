<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"  
  "http://www.w3.org/TR/html4/loose.dtd">  
<html > 
<head><title></title> 
<meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1"> 
<meta name="generator" content="TeX4ht (http://www.cse.ohio-state.edu/~gurari/TeX4ht/)"> 
<meta name="originator" content="TeX4ht (http://www.cse.ohio-state.edu/~gurari/TeX4ht/)"> 
<!-- html --> 
<meta name="src" content="favourite_failures.tex"> 
<meta name="date" content="2010-08-01 19:14:00"> 
<link rel="stylesheet" type="text/css" href="favourite_failures.css"> 
</head><body 
>


   <h2 class="chapterHead"><span class="titlemark">Chapter&#x00A0;1</span><br /><a 
 id="x1-10001"></a>Favourite Failures</h2>
<!--l. 37--><p class="noindent" >This chapter will teach you about the most common beginners mistakes. They range
from quite subtle and hard to diagnose to pure idiotism. They all have been reported at
least several times; solving these problems over and over again has cost the
forum-regulars quite some time and nerves. But the good news is: these issues are easy to
avoid once you are aware of them.
   <h3 class="sectionHead"><a 
 id="x1-20001"></a>OH does not connect to the table (I)</h3>
<!--l. 47--><p class="noindent" ><span 
class="ecti-1000">Reason: Table not recognized because of incorrect system-settings.</span>
<!--l. 49--><p class="indent" >   To recognize a table the following criteria have to match:
           <ul class="itemize1">
        <li class="itemize">size of the window
           </li>
        <li class="itemize">table-title
           </li>
        <li class="itemize">maybe some tablepoints to distinguish similar maps (e.g. FL, NL-SNG or
        different skins from the same network).</li></ul>
<!--l. 56--><p class="noindent" >Usually the problem is the window-size caused by incorrect system-settings; Windows XP
and Vista possess a higher titlebar than Windows 2000 classic-theme.
   <h3 class="sectionHead"><a 
 id="x1-30001"></a>OH does not connect to the table (II)</h3>
<!--l. 63--><p class="noindent" ><span 
class="ecti-1000">Reason: No tablemap loaded.</span>
<!--l. 65--><p class="indent" >   There are two ways to load a tablemap:
           <ul class="itemize1">
        <li class="itemize">explicitly via the menu: Menu -&#x003E; File -&#x003E; Load Table Map
           </li>
        <li class="itemize">implicitly  from  the  &#8220;scraper&#8221;-folder  in  the  installation-directory  of
        OpenHoldem.</li></ul>
   <h3 class="sectionHead"><a 
 id="x1-40001"></a>OH does not play</h3>
<!--l. 74--><p class="noindent" ><span 
class="ecti-1000">Reason: You did not turn on the autoplayer.</span>
<!--l. 76--><p class="indent" >   Click the diamond-button to the right of the green and red circles in the toolbar.
Alternatively change the preferences to automatically engage the autoplayer upon
chair-detection.
   <h3 class="sectionHead"><a 
 id="x1-50001"></a>The autoplayer-button can&#8217;t be enabled</h3>
<!--l. 83--><p class="noindent" ><span 
class="ecti-1000">Reason: Userchair not recognized.</span>
<!--l. 85--><p class="indent" >   The autoplayer can only be enabled after OpenHoldem has recognized your chair. To
do so OpenHoldem must see:
           <ul class="itemize1">
        <li class="itemize">your cards
           </li>
        <li class="itemize">some buttons, so OpenHoldem really knows it is your turn and not a
        gamestate with cards shown for your opponents (i.e. at showdown).</li></ul>

   <h3 class="sectionHead"><a 
 id="x1-60001"></a>OH calls any hand</h3>
<!--l. 96--><p class="noindent" ><span 
class="ecti-1000">Reason: Tablemap does not detect bet amounts.</span>
<!--l. 98--><p class="indent" >   If OpenHoldem calls every hand &#8212; except maybe the strong ones &#8212; this is probably
neither a bug in OpenHoldem nor bad logic in the bot but a problem with
the Tablemap or with your settings again: The TM does most probably not
recognize your opponents bet, so OpenHoldem thinks you have a free play and
calls.
<!--l. 104--><p class="indent" >   Whenever you experience strange actions, you should ask yourself the following
questions (<a 
href="http://forum.winholdem.net/wbb/viewtopic.php?f=38&t=12408" class="url" ><span 
class="ectt-1000">http://forum.winholdem.net/wbb/viewtopic.php?f=38&amp;t=12408</span></a>):
           <ul class="itemize1">
        <li class="itemize">is the scraper reading the bet values correctly?
           </li>
        <li class="itemize">is the scraper reading my cardfaces correctly?
           </li>
        <li class="itemize">is the scraper reading opponent cardbacks correctly?
           </li>
        <li class="itemize">do the blind values look sane?
           </li>
        <li class="itemize">does the site provide handnumbers?
           </li>
        <li class="itemize">are my action buttons being seen when my turn arrives?</li></ul>
<!--l. 114--><p class="noindent" >You can check the values for these symbols in the debug-tab of the formula-editor.
   <!--l. 118-->
   <div class="lstlisting" id="listing-1"><span class="label"><a 
 id="x1-6001r1"></a></span>&#x00A0;=&#x00A0;br&#x00A0;<br /><span class="label"><a 
 id="x1-6002r2"></a></span>&#x00A0;=&#x00A0;sblind&#x00A0;<br /><span class="label"><a 
 id="x1-6003r3"></a></span>&#x00A0;=&#x00A0;bblind&#x00A0;<br /><span class="label"><a 
 id="x1-6004r4"></a></span>&#x00A0;=&#x00A0;handnumber&#x00A0;<br /><span class="label"><a 
 id="x1-6005r5"></a></span>&#x00A0;=&#x00A0;nplayersdealt&#x00A0;<br /><span class="label"><a 
 id="x1-6006r6"></a></span>&#x00A0;=&#x00A0;myturnbits
   </div>
<!--l. 129--><p class="indent" >   <hr class="figure"><div class="figure" 
>

<a 
 id="x1-60071"></a>

<!--l. 130--><p class="noindent" ><img 
src="favourite_failures0x.png" alt="PIC" class="graphics" width="437.635pt" height="556.0775pt" ><!--tex4ht:graphics  
name="favourite_failures0x.png" src="0E__Dokumente_und_Einstellungen_Development_Des___hapters_favourite_failures_Images_debug_tab.eps"  
-->
<br /> <div class="caption" 
><span class="id">Figure&#x00A0;1.0.1: </span><span  
class="content">Debug-tab</span></div><!--tex4ht:label?: x1-60071 -->


<!--l. 136--><p class="indent" >   </div><hr class="endfigure">
<!--l. 139--><p class="indent" >   If you want to invstigate in detail how OpenHoldem did choose a decision, you
should enable the full autoplayer-trace in the preferences and have a look at the
log-files.
   <h3 class="sectionHead"><a 
 id="x1-70001"></a>OH does not work in ManualMode</h3>
<!--l. 146--><p class="noindent" ><span 
class="ecti-1000">Reason: Not your turn or userchair not recognized.</span>
<!--l. 148--><p class="indent" >   To work properly OpenHoldem must have recognized the userchair. Also some
symbols are only valid when it is your turn to act. So you should highlight some
buttons in ManualMode; just click them; usually they are grey, which means not
existent.
   <h3 class="sectionHead"><a 
 id="x1-80001"></a>OH acts multiple times</h3>
<!--l. 156--><p class="noindent" ><span 
class="ecti-1000">Reason: Improper bring-delay and scraper-delay.</span>
<!--l. 158--><p class="indent" >   The bring-delay should be somewhat smaller than the scraper-delay. Otherwise it
can happen that OH acts but bring doesn&#8217;t display a new image in time. So when the
next heart-beat-cycle starts, OH will scrape the exact same game-state another time and
act another time.
   <div class="newtheorem">
<!--l. 163--><p class="noindent" ><span class="head">
<a 
 id="x1-8001r1"></a>
  <span 
class="eccc-1000">R<span 
class="small-caps">E</span><span 
class="small-caps">M</span><span 
class="small-caps">A</span><span 
class="small-caps">R</span><span 
class="small-caps">K</span> </span>1<span 
class="eccc-1000">.</span>  </span>This problem has been improved by marking frames as unstable
when  OpenHoldem  acts,  so  OpenHoldem  has  to  wait  for  a  certain  number  of
stable frames again. However the problem may still appear, if your scraper- and
bring-delay do mismatch or if you don&#8217;t wait for stable frames.
   </div>
   <h3 class="sectionHead"><a 
 id="x1-90001"></a>OH permanently clicks sitout / sitin</h3>
<!--l. 173--><p class="noindent" ><span 
class="ecti-1000">Reason: Table Map does not correctly scrape sitin/sitout.</span>
<!--l. 175--><p class="indent" >   The Table Map probably does not correctly determine the state of the sitin- or
sitout-region; as a consequence the bot will think its action had no effect and will try
over and over again. There is a funny legend back from the ancient times of
WinHoldem or OPI: the Table Map (a built-in feature of the software at that time)
once again failed because of a casino-update. As a consequence lots of &#8220;players&#8221;
were suddenly sitting in and sitting out once per second. It must have been a
devilish joy for their opponents; innummerable bots got reported and finally
busted.
<!--l. 185--><p class="indent" >   So always remember: Bots are very stupid and very volatile beings.
   <h3 class="sectionHead"><a 
 id="x1-100001"></a>OpenScrape does recognize something, but OH does not (I)</h3>
<!--l. 190--><p class="noindent" ><span 
class="ecti-1000">Reason: Different versions of the same map.</span>
<!--l. 192--><p class="indent" >   A very common &#8220;bug&#8221;-report: some beginner has just fixed his first map and
complains that OpenScrape recognizes the bets, the fonts of the player names or
whatever; but OpenHoldem fails to do so. The reason is quite simple: he usually has
multiple versions of the map in his scraper-folder and has simply loaded the wrong map.

If you have the auto-connector enabled, OpenHoldem will load the &#8220;first&#8221; map that fits.
Also be careful if you fix a map or put a new map into the scraper folder. To be able to
auto-connect, OpenHoldem has to load all tablemaps once on startup and keep some
parts in memory, so you should restart OpenHoldem when you change your
maps.
   <h3 class="sectionHead"><a 
 id="x1-110001"></a>OpenScrape does recognize something, but OH does not (II)</h3>
<!--l. 206--><p class="noindent" ><span 
class="ecti-1000">Reason: Halfmade tablemap</span>
<!--l. 208--><p class="indent" >   Scraping is the most time-consuming part of the heartbeat-cycle, so OpenHoldem
does implement some reasonable optimizations. It will only scrape names, bets and
balances of a certain chair, if that chair is occupied. If OpenScrape and your tablemap
are able to scrape those regions but OpenHoldem doesn&#8217;t do so, then you have most
probably forgotten to define pxseated or uxseated.
   <h3 class="sectionHead"><a 
 id="x1-120001"></a>OH does work locally, but not remotely with bring</h3>
<!--l. 219--><p class="noindent" ><span 
class="ecti-1000">Reason: Different system configurations on your casino-machine and your bot-machine.</span>
<!--l. 221--><p class="indent" >   It is a quite common beginners mistake to setup the casino-machine in a different
way than the bot-machine. The casino-client will be rendered in a different way, so
OpenHoldem will no longer be able to scrape the screenshots displayed by bring. If you
don&#8217;t want to install OH on the casino-machine to check the settings, the only way to fix
that problem is a careful manual walk-through (experts could clone a VM or deploy some
registry-settings).
   <h3 class="sectionHead"><a 
 id="x1-130001"></a>Perl (or the user-DLL) crashes immediately</h3>
<!--l. 232--><p class="noindent" ><span 
class="ecti-1000">Reason: Usage of functionality, that is not yet initialized.</span>
<!--l. 234--><p class="indent" >   Probably the most prominent example is the usage of the function &#8220;getsym&#8221; during
the initialization-phase of Perl or a DLL.
<!--l. 237--><p class="indent" >   <span 
class="eccc-1000"><span 
class="small-caps">D</span><span 
class="small-caps">O</span><span 
class="small-caps">U</span><span 
class="small-caps">B</span><span 
class="small-caps">L</span><span 
class="small-caps">E</span> B<span 
class="small-caps">I</span><span 
class="small-caps">G</span>B<span 
class="small-caps">L</span><span 
class="small-caps">I</span><span 
class="small-caps">N</span><span 
class="small-caps">D</span> = <span 
class="small-caps">G</span><span 
class="small-caps">E</span><span 
class="small-caps">T</span><span 
class="small-caps">S</span><span 
class="small-caps">Y</span><span 
class="small-caps">M</span>(&#8220;<span 
class="small-caps">B</span><span 
class="small-caps">B</span><span 
class="small-caps">L</span><span 
class="small-caps">I</span><span 
class="small-caps">N</span><span 
class="small-caps">D</span>&#8221;);</span>
<!--l. 239--><p class="indent" >   BigBlind is a global variable that gets initialized immediately when the DLL gets
loaded. But the function getsym uses a callback-pointer that gets initialized later with
one of the first messages from OpenHoldem to the DLL. So you dereference an undefined
pointer and crash because of a memory-access-error.
<!--l. 245--><p class="indent" >   This error may also occur when debug messages attempt to write to a file that has
not yet been opened for writing, or if Perl modules are not loaded in the correct
order.
   <h3 class="sectionHead"><a 
 id="x1-140001"></a>OpenHoldem connects to all tables but one</h3>
<!--l. 252--><p class="noindent" ><span 
class="ecti-1000">Reason: Not correctly disconnected.</span>
<!--l. 254--><p class="indent" >   If OpenHoldem connects to all tables but one (despite having enough instances of
OH open) there is a simple reason: the auto-connector uses shared memory to
synchronize all OpenHoldem processes. If one process does crash (for whatever reason), it
will no longer be able to disconnect correctly and that table (or future tables with the
same HWND) will be marked as occupied forever. Close that table and open
another one. To clear the shared memory: shutdown all bots and restart them
again.

   <h3 class="sectionHead"><a 
 id="x1-150001"></a>OpenHoldem checked, but didfold is true</h3>
<!--l. 266--><p class="noindent" ><span 
class="ecti-1000">Reason: TM does not recognize buttons correctly.</span>
<!--l. 268--><p class="indent" >   If you get a freeplay, it might be that your check-button (or a check/fold-button!) is
at the same location where usually the fold-button is located. If you have a
simple way to detect buttons (e.g. by colour) you probably will recognize that
button as fold. So OpenHoldem &#8212; not seeing a check-button &#8212; will check by
clicking &#8220;fold&#8221; and didfold will be true. Similar things can happen if buttons
move, e.g. a call-button at the raise-position when you can only fold or call
allin.
   <h3 class="sectionHead"><a 
 id="x1-160001"></a>There are only N players dealt, but OH says 10</h3>
<!--l. 279--><p class="noindent" ><span 
class="ecti-1000">Reason: It&#8217;s a feature, not a bug.</span>
<!--l. 281--><p class="indent" >   Recognizing dealt players (nplayersdealt) and similar symbols (dealtbits and
dealposition) has always been a problem due to fast folds in early position. The &#8220;obvious&#8221;
way to deal with it was to avoid unreliable symbols and use e.g. nchairsdealtleft
to get your position (or nchairsdealtright in the blinds), as these are always
reliable (you get stable frames, once it is your turn the first time and the players
to your left did not yet act; if you are BB the SB will have a bet in front of
him).
<!--l. 289--><p class="indent" >   However &#8212; beginners complained too much and so we had to change the code: We
do now consider players as dealt, if they are active (e.g. sitting in). Strictly speaking this
is not really correct (e.g. a player could be sitting out and come back - but that happens
less frequently than fast folds in early position).
   <h3 class="sectionHead"><a 
 id="x1-170001"></a>History symbols do not work</h3>
<!--l. 298--><p class="noindent" ><span 
class="ecti-1000">Reason: Incorrect hand-reset.</span>
<!--l. 300--><p class="indent" >   Some symbols only require the current gamestate to be calculated (e.g. dealerchair,
balance, nbetstocall). Others (like didcallround1, nbetsround3 etc.) require a complete
game-history and will reset at the beginning of a new hand. If they all are zero (or -1),
you have probably caused an incorrect hand-reset, e.g. by temporary occlusion. You
should avoid occlusion by any means and might consider changing the handresetmethod
in your TM.
   <h3 class="sectionHead"><a 
 id="x1-180001"></a>I play a tournament, but when the blinds go up OpenHoldem keeps the old
values</h3>
<!--l. 312--><p class="noindent" ><span 
class="ecti-1000">Reason: You use a cash-TM for a tournament.</span>
<!--l. 314--><p class="indent" >   Detecting the blind values correctly is extremely important, as it affects all kinds of
other symbols. Therefore OH provides the ability to automatically lock the blinds as
soon as they are known and reasonable. For the current hand and (for cashgames) for the
rest of the session (after several hands have been played). So if you bot SNGs or
MTTs you should tell OpenHoldem somehow that the current table belongs to a
tournament and the blinds may go up. An easy way to do so is the TM-region
&#8220;c0istournament&#8221;.

   <h3 class="sectionHead"><a 
 id="x1-190001"></a>Pokerval does not work</h3>
<!--l. 327--><p class="noindent" ><span 
class="ecti-1000">Reason: Pokerval is a bitvector. You are probably confusing logical operations and bitwise</span>
<span 
class="ecti-1000">operations.</span>
<!--l. 329--><p class="indent" >   In short: boolean operations work on true/false-values; bitwise operations work on
long series of 0/1-values simultaneously. Lots of wisdom has been written about both
topics &#8212; too much to explain it here. If you don&#8217;t really understand what I am talking
about, then you <span 
class="ecti-1000">really </span>should take a pause from coding and do some homework. There is
no way around it.
   <h3 class="sectionHead"><a 
 id="x1-200001"></a>Quickfolding AA and other unexpected plays</h3>
<!--l. 339--><p class="noindent" ><span 
class="ecti-1000">Reason: Unstable frames and careless coding.</span>
<!--l. 341--><p class="indent" >   Consider code like below:
   <!--l. 344-->
   <div class="lstlisting" id="listing-2"><span class="label"><a 
 id="x1-20001r1"></a></span>##list77##&#x00A0;<br /><span class="label"><a 
 id="x1-20002r2"></a></span>AA&#x00A0;KK&#x00A0;QQ&#x00A0;<br /><span class="label"><a 
 id="x1-20003r3"></a></span>AKs&#x00A0;AQs&#x00A0;<br /><span class="label"><a 
 id="x1-20004r4"></a></span>AKo&#x00A0;<br /><span class="label"><a 
 id="x1-20005r5"></a></span>&#x00A0;<br /><span class="label"><a 
 id="x1-20006r6"></a></span>##f$prefold##&#x00A0;<br /><span class="label"><a 
 id="x1-20007r7"></a></span>((betround&#x00A0;==&#x00A0;1)&#x00A0;&amp;&amp;&#x00A0;!islist77)
   </div>
<!--l. 355--><p class="indent" >   This code basically says: &#8220;do prefold, if is is preflop and I don&#8217;t have a very great
hand&#8221;. However you only get stable frames when it is your turn. So it might be that you
get a mis-scrape, e.g. occlusion by a rebuy-window. Or the poker-room might update its
display, temporarily showing only one of your wonderful aces. So OpenHoldem can&#8217;t
recognize your great hand and folds. To avoid that problem, you need more fail-safe
coding and explicitly specify the hands to fold: &#8220;do prefold, if it is preflop and I have a
trash-hand.&#8221;
   <!--l. 365-->
   <div class="lstlisting" id="listing-3"><span class="label"><a 
 id="x1-20008r1"></a></span>##list13##&#x00A0;<br /><span class="label"><a 
 id="x1-20009r2"></a></span>72o&#x00A0;....&#x00A0;<br /><span class="label"><a 
 id="x1-20010r3"></a></span>&#x00A0;<br /><span class="label"><a 
 id="x1-20011r4"></a></span>##f$prefold##&#x00A0;<br /><span class="label"><a 
 id="x1-20012r5"></a></span>((betround&#x00A0;==&#x00A0;1)&#x00A0;&amp;&amp;&#x00A0;islist13)
   </div>
<!--l. 374--><p class="indent" >   This way mis-scrapes will not be able to defeat your fine strategy. Instead a
mis-scrape will only keep f$prefold false and delay the folding of trash. The same
problem might occur in all functions that might act on unstable frames (when it is not
your turn), especially f$prefold, f$sitin, f$sitout, f$leave, f$rebuy and f$chat.
 
</body></html> 



