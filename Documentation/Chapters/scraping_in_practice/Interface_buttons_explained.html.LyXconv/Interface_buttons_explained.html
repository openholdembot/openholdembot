<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/>
<meta name="generator" content="http://www.nongnu.org/elyxer/"/>
<meta name="create-date" content="2015-03-19"/>
<link rel="stylesheet" href="http://elyxer.nongnu.org/lyx.css" type="text/css" media="all"/>
<title>Converted document</title>
</head>
<body>
<div id="globalWrapper">
<h2 class="Section">
<a class="toc" name="toc-Section-1"></a>How the Interface-Buttons work
</h2>
<div class="Unindented">
The holdem scraper has the concept of interface region(s), that can be clicked by the autoplayer to interact with the casino. Such an interface region consists of three components:
</div>
<div class="Indented">
<table>
<tr>
<td align="left" valign="top" style="width: 20%;">
iXbutton
</td>
<td align="left" valign="top" style="width: 65%;">
Location of the button, where X is the buttons number (0..9) and the location is a rectangle, specified by the coordinates of the top-left and bottom-right corner.
</td>

</tr>
<tr>
<td align="left" valign="top" style="width: 20%;">
iXstate
</td>
<td align="left" valign="top" style="width: 65%;">
Visibility of the button. If the button is visible it can be clicked by the autoiplayer. If not then the action will be skipped or a backup-action will be chosen.
</td>

</tr>
<tr>
<td align="left" valign="top" style="width: 20%;">
iXlabel
</td>
<td align="left" valign="top" style="width: 65%;">
Type of the button, e.g.fold call rais
</td>

</tr>

</table>

</div>
<div class="Indented">
In the tablemap file it looks like that:
</div>
<div class="Indented">
<div class="listing">
<pre class="listing">r$i0button           491 320 502 331   000000    0 N 
r$i0state            491 331 491 331   ffffff    0 C 
r$i0label            493 322 499 330   ffffff    0 H0 
</pre>
</div>

</div>
<div class="Indented">
The purpose of the button region is simply to tell the autoplayer where it needs to click the mouse. You can set the transform to "none", as only the position of the clickable region is of interest for the autoplayer. In the example above the position for button 0 is ((491, 320), (502, 331)).
</div>
<div class="Indented">
The purpose of the state region is to determine whether or not the button is visible or not. It’s generally a small color region which has to return true when the button is visible. But you can use hash as well. If you use hash, a true value will be identified as follows (so rename your images accordingly):
</div>
<ul>
<li>
on 
</li>
<li>
yes 
</li>
<li>
checked 
</li>
<li>
true 
</li>
<li>
lit
</li>

</ul>
<div class="Unindented">
OpenHoldem will search for any of these substrings, so &ldquo;checked7&rdquo; would work too, but any other string will be seen as false. Finally each interface should also have a label region or regions that will further define the purpose of the button. So the engine recognizes the following key words within labels:
</div>
<ul>
<li>
fold 
</li>
<li>
check 
</li>
<li>
call 
</li>
<li>
bet 
</li>
<li>
raise 
</li>
<li>
swag 
</li>
<li>
allin 
</li>
<li>
all-in 
</li>
<li>
prefold 
</li>
<li>
autopost 
</li>
<li>
auto-post 
</li>
<li>
autoblind 
</li>
<li>
auto-blind 
</li>
<li>
postblind 
</li>
<li>
post-blind 
</li>
<li>
sitin 
</li>
<li>
sit-in 
</li>
<li>
sitout 
</li>
<li>
sit-out 
</li>
<li>
leave
</li>
<li>
exit
</li>

</ul>
<div class="Unindented">
...and various forms of nearly fitting scrapes (e.g. &ldquo;aut0post&rdquo;, &ldquo;a111n&rdquo; and other kind of leetspeak-lookalike). Any iXlabel region that produces one of these keywords will be seen by the engine as clickable for that specific action. Also all the strings starting with these keywords will work: examples: "callllll", "check01", "Raiseto:$10" etc.
</div>
<h2 class="Section">
<a class="toc" name="toc-Section-2"></a>Sitin/Sitout particular behaviour 
</h2>
<div class="Unindented">
These are somewhat inverted and can cause confusion, better to explain with an example: If you scrape the sitout button and name label as "sitout" and state as "true" when sitout button is visible, you will obtain the opposite behaviour. This is a Winholdem legacy, and derives from the first sites supported, like Full Tilt. As you know, Full Tilt has not exactly a sitout button, but more a check box. this means that: - label sitout + state unchecked (false), means you’re sitting in, and you need to click if you want to sitout - label sitout + state checked (true), means you’re sitting out and you need to click if you want to sit in again. I remember this causing me many headaches when I started, (and it still confuses beginners). However, this behaviour is inherited by all the other sites, even those with standard sitin/sitout buttons. Ongame is the classic example, with standard sitout button when you’re sitting in, and sitin button when you’re sitting out. So you think, ok, let’s create a button with label sitout, state is true when sitting in, then a sitin button, state is true when sitting out... WRONG! You always need to have: 
</div>
<ul>
<li>
(label--&gt;sitout and state--&gt;false) or (label--&gt;sitin and state--&gt;true) when sitting in 
</li>
<li>
(label--&gt;sitin and state--&gt;false) or (label--&gt;sitout and state--&gt;true) when sitting out 
</li>

</ul>
<div class="Unindented">
This is the only way to make it work. Think of these buttons as check-boxes.
</div>
<h2 class="Section">
<a class="toc" name="toc-Section-3"></a>The spam buttons 
</h2>
<div class="Unindented">
i86-i860-i861-.....-i869 regions are reserved for anti-spam buttons. For spam we intend all the popups that can occlude your table. Some sites advertise tournaments about to start, other ask for confirmation when you leave the table, etc. OH can manage these popups and close them as long as they appear inside the poker table in a consistent position. There’s no label region to scrape here, just state and button. The autoplayer will click them automatically as soon as they become visdible.
</div>
<ol>
<li>
Shoot a frame of the table with the popup showing, and create i86state as a color or hash region which returns true like you would for any other button. 
</li>
<li>
Paint a button region where you want OH to click to kill the popup. Done. 
</li>

</ol>
<div class="Unindented">
Notice that this is evaluated every heartbeat, so OH is very fast at closing these popups. If popups show in inconsistent locations or out of poker table, you need an external script, or external software like PTFB to manage them.
</div>
<h2 class="Section">
<a class="toc" name="toc-Section-4"></a>The swag interface 
</h2>
<div class="Unindented">
This is a particular interface button, where OH won’t just click a button, but highlight some text--&gt;delete it--&gt;type a new text--&gt;click the button (or send enter). So, you need to do some work on this. First thing first, try manually on the poker site which sequence of actions allow a successfull swag. Remember that in OH you can adjust swag settings for: 
</div>
<ol>
<li>
highlighting the text (double click or click/drag) 
</li>
<li>
deleting (backspace/delete) 
</li>
<li>
acting (clicking raise button or sending enter) 
</li>

</ol>
<div class="Unindented">
As soon as you identify which sequence works, you need to specify the usual i3state, i3button, i3label (optional if you use i3 region, like I always do, but if you want it, it has to return swag or allin). You also need to add an i3edit region, placed where you have to click to perform action #1 above (highlighting).
</div>

<hr class="footer"/>
<div class="footer" id="generated-by">
Document generated by <a href="http://elyxer.nongnu.org/">eLyXer 1.2.5 (2013-03-10)</a> on <span class="create-date">2015-03-19T11:44:31.250000</span>
</div>
</div>
</body>
</html>
